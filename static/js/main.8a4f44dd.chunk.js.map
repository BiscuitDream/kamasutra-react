{"version":3,"sources":["redux/dialogs-reducer.js","api/api.js","utils/object-helpers.js","redux/users-reducer.js","components/Profile/MyPosts/Post/Post.module.css","hoc/withAuthRedirect.js","components/Navbar/Navbar.module.css","reportWebVitals.js","components/Navbar/Navbar.jsx","components/News/News.jsx","components/Music/Music.jsx","components/Settings/Settings.jsx","components/Profile/ProfileInfo/ProfileStatus/ProfileStatusWithHooks.jsx","components/Profile/ProfileInfo/ProfileStatus/ProfileStatus.jsx","components/Profile/ProfileInfo/ProfileDataForm/ProfileDataForm.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","redux/profile-reducer.js","components/Profile/MyPosts/Post/Post.jsx","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/MyPostsContainer.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx","components/Header/Header.jsx","components/Header/HeaderContainer.jsx","redux/app-reducer.js","redux/redux-store.js","App.js","index.js","components/common/CustomFields/CustomFields.js","redux/auth-reducer.js","components/common/CustomFields/CustomFields.module.css","components/common/Preloader/preloader.svg","components/common/Preloader/Preloader.jsx","components/Profile/ProfileInfo/ProfileInfo.module.css","components/Header/Header.module.css","utils/validators/validators.js","components/common/Preloader/Preloader.module.css","components/Profile/MyPosts/MyPosts.module.css","assets/images/user.png"],"names":["SEND_NEW_MESSAGE","initialState","dialogs","id","name","messages","text","sendNewMessageActionCreator","newMessageText","type","dialogsReducer","state","action","newMessage","axiosInstance","axios","create","baseURL","withCredentials","headers","api","getUsers","currentPage","pageSize","get","then","response","data","followUser","userId","post","unFollowUser","delete","me","login","email","password","rememberMe","captcha","logout","getProfile","getStatus","updateStatus","status","put","uploadPhoto","photoFile","formData","FormData","append","saveProfile","profile","getCaptchaUrl","updateObjectInArray","items","propValue","objPropName","newObjProps","map","item","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_FOLLOWING_PROGRESS","users","totalUsersCount","isFetching","followingInProgress","followSuccess","unfollowSuccess","toggleIsFetching","toggleFollowingProgress","requestUsers","page","dispatch","a","totalCount","followUnfollowFlow","apiMethod","actionCreator","resultCode","follow","bind","unfollow","usersReducer","followed","filter","module","exports","mapStateToPropsRedirect","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","props","to","React","connect","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","Navbar","className","classes","nav","navList","activeClassName","activeLink","News","Music","Settings","ProfileStatusWithHooks","useState","editMode","setEditMode","setStatus","useEffect","onDoubleClick","onChange","e","target","value","onBlur","autoFocus","ProfileDataFormReduxForm","reduxForm","form","handleSubmit","error","onSubmit","styles","commonError","Field","component","Input","placeholder","TextArea","Object","entries","contacts","key","Contact","contactTitle","contactValue","ProfileData","userProfile","isOwner","goToEditMode","onClick","fullName","lookingForAJob","lookingForAJobDescription","aboutMe","contact","ProfileInfo","Preloader","descriptionBlock","userPhoto","src","photos","large","accept","files","length","initialValues","formValues","ADD_POST","SET_USER_PROFILE","SET_STATUS","DELETE_POST","UPLOAD_PHOTO_SUCCESS","posts","message","likesCount","getUserProfile","profileReducer","newPost","newPostText","p","postId","Post","maxLength10","maxLength","AddPostReduxForm","validate","required","MyPosts","memo","postsElements","postsData","postsBlock","console","log","addPost","MyPostsContainer","profilePage","addPostActionCreator","Profile","ProfileContainer","match","params","authorizedUserId","history","push","refreshProfile","prevProps","prevState","snapshot","compose","file","getState","stopSubmit","_error","withRouter","Header","header","width","loginBlock","loginLink","HeaderContainer","INITIALIZED_SUCCESS","initialized","appReducer","reducers","combineReducers","dialogsPage","usersPage","authReducer","app","formReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","DialogsContainer","lazy","UsersContainer","Login","App","handleAllUnhandledRejection","promiseRejectionEvent","alert","promise","reason","initializeApp","addEventListener","removeEventListener","Suspense","fallback","path","render","from","AppContainer","getAuthUserData","SamuraiJsApp","ReactDOM","StrictMode","document","getElementById","CustomField","FormField","input","meta","touched","submitting","submitFailed","visited","hasError","field","errorMessage","SET_AUTH_USER_DATA","GET_CAPTCHA_URL_SUCCESS","captchaUrl","setAuthUserData","payload","getCaptchaUrlSuccess","url","_path","_excluded","_extends","assign","i","arguments","source","prototype","hasOwnProperty","call","apply","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgPreloader","_ref","svgRef","title","titleId","xmlns","xmlnsXlink","x","y","viewBox","enableBackground","xmlSpace","ref","fill","d","attributeName","attributeType","dur","repeatCount","ForwardRef","overlay","preloader","max"],"mappings":"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","file":"static/js/main.8a4f44dd.chunk.js","sourcesContent":["const SEND_NEW_MESSAGE = 'SEND-NEW-MESSAGE'; // SEND_MESSAGE\n\nconst initialState = {\n  dialogs: [\n    { id: 1, name: 'Dimych' },\n    { id: 2, name: 'Andrey' },\n    { id: 3, name: 'Sveta' },\n    { id: 4, name: 'Sasha' },\n    { id: 5, name: 'Viktor' },\n    { id: 6, name: 'Valera' },\n  ],\n  messages: [\n    { id: 1, text: 'Hi'},\n    { id: 2, text: 'How is your Yo?'},\n    { id: 3, text: 'Yo!'},\n    { id: 4, text: 'Yo!'},\n    { id: 5, text: 'Yo!'},\n  ]\n};\n\nconst dialogsReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case SEND_NEW_MESSAGE:\n      const newMessage = {\n        id: 6,\n        text: action.newMessageText,\n      };\n      return  {\n        ...state,\n        messages: [...state.messages, newMessage]\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport const sendNewMessageActionCreator = (newMessageText) => ({type: SEND_NEW_MESSAGE, newMessageText}); // sendMessageCreator\n\nexport default dialogsReducer;\n","import axios from \"axios\";\n\nconst axiosInstance = axios.create({\n  baseURL: 'https://social-network.samuraijs.com/api/1.0/',\n  withCredentials: true,\n  headers: {\n    'API-KEY': 'f6c84f1f-526b-455b-b54c-ae0f09e46ef0'\n  }\n});\n\nexport const api = {\n  getUsers(currentPage, pageSize) {\n    return axiosInstance\n      .get(`users?page=${currentPage}&count=${pageSize}`)\n      .then(response => response.data);\n  },\n\n  followUser(userId) {\n    return axiosInstance\n      .post(`follow/${userId}`)\n      .then(response => response.data);\n  },\n  unFollowUser(userId) {\n    return axiosInstance\n      .delete(`follow/${userId}`)\n      .then(response => response.data);\n  },\n\n  me() {\n    return axiosInstance\n      .get('auth/me')\n      .then(response => response.data);\n  },\n  login(email, password, rememberMe = false, captcha) {\n    return axiosInstance\n      .post('/auth/login', {email, password, rememberMe, captcha})\n      .then(response => response.data);\n  },\n  logout() {\n    return axiosInstance\n      .delete('/auth/login')\n      .then(response => response.data);\n  },\n\n  getProfile(userId) {\n    return axiosInstance\n      .get(`profile/${userId}`)\n      .then(response => response.data);\n  },\n  getStatus(userId) {\n    return axiosInstance\n      .get(`/profile/status/${userId}`)\n      .then(response => response.data);\n  },\n  updateStatus(status) {\n    return axiosInstance\n      .put('/profile/status', {status: status})\n      .then(response => response.data);\n  },\n  uploadPhoto(photoFile) {\n    const formData = new FormData();\n    formData.append('image', photoFile);\n    return axiosInstance\n      .put('/profile/photo', formData, {headers: {'Content-Type': 'multipart/form-data'}})\n      .then(response => response.data);\n  },\n  saveProfile(profile) {\n    return axiosInstance\n      .put('/profile', profile)\n      .then(response => response.data);\n  },\n\n  getCaptchaUrl() {\n    return axiosInstance\n      .get('/security/get-captcha-url')\n      .then(response => response.data);\n  }\n};\n","export const updateObjectInArray = (items, propValue, objPropName, newObjProps) => {\n  return items.map((item) => {\n    if (item[objPropName] === propValue) {\n      return {...item, ...newObjProps};\n    }\n    return item;\n  })\n};\n","import {api} from \"../api/api\";\nimport {updateObjectInArray} from \"../utils/object-helpers\";\n\nconst FOLLOW = 'FOLLOW';\nconst UNFOLLOW = 'UNFOLLOW';\nconst SET_USERS = 'SET-USERS';\nconst SET_CURRENT_PAGE = 'SET-CURRENT-PAGE';\nconst SET_TOTAL_USERS_COUNT = 'SET-TOTAL-USERS-COUNT';\nconst TOGGLE_IS_FETCHING = 'TOGGLE-IS-FETCHING';\nconst TOGGLE_FOLLOWING_PROGRESS = 'TOGGLE-FOLLOWING-PROGRESS';\n\nconst initialState = {\n  users: [],\n  pageSize: 5,\n  totalUsersCount: 0,\n  currentPage: 1,\n  isFetching: false,\n  followingInProgress: []\n};\n\nconst usersReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case 'FAKE': {        // TODO для понимания reselect, удалить потом\n      return {...state};\n    }\n\n    case FOLLOW: // TODO нужен переключатель, тогл, а не этот бред\n      return {\n        ...state,\n        users: updateObjectInArray(state.users, action.userId, 'id', {followed: true})\n      };\n\n    case UNFOLLOW:\n      return {\n        ...state,\n        users: updateObjectInArray(state.users, action.userId, 'id', {followed: false})\n      };\n\n    case SET_USERS:\n      return {\n        ...state,\n        users: action.users\n      };\n\n    case SET_CURRENT_PAGE:\n      return {\n        ...state,\n        currentPage: action.currentPage\n      };\n\n    case SET_TOTAL_USERS_COUNT:\n      return {\n        ...state,\n        totalUsersCount: action.totalUsersCount\n      };\n\n    case TOGGLE_IS_FETCHING:\n      return {\n        ...state,\n        isFetching: action.isFetching\n      };\n\n      case TOGGLE_FOLLOWING_PROGRESS:\n      return {\n        ...state,\n        followingInProgress: action.isFetching\n          ? [...state.followingInProgress, action.userId]\n          : state.followingInProgress.filter(id => id !== action.userId)\n      };\n\n    default:\n      return state;\n  }\n};\n\nconst followSuccess = (userId) => ({type: FOLLOW, userId});\nconst unfollowSuccess = (userId) => ({type: UNFOLLOW, userId});\nconst setUsers = (users) => ({type: SET_USERS, users});\nconst setCurrentPage = (currentPage) => ({type: SET_CURRENT_PAGE, currentPage});\nconst setTotalUsersCount = (totalUsersCount) => ({type: SET_TOTAL_USERS_COUNT, totalUsersCount});\nconst toggleIsFetching = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching});\nconst toggleFollowingProgress = (isFetching, userId) => ({type: TOGGLE_FOLLOWING_PROGRESS, isFetching, userId});\n\nexport const requestUsers = (page, pageSize) => {   // thunk creator принимает в параметры нужные данные и возращает thunk, которая через замыкание может достучаться к этим данным\n  return async (dispatch) => {\n    dispatch(toggleIsFetching(true));\n    dispatch(setCurrentPage(page));\n\n    const data = await api.getUsers(page, pageSize);\n    dispatch(setUsers(data.items));\n    dispatch(setTotalUsersCount(data.totalCount));\n    dispatch(toggleIsFetching(false));\n  };\n};\n\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\n  dispatch(toggleFollowingProgress(true, userId)); // TODO мб поменять порядок параметров\n  const data = await apiMethod(userId);\n\n  if (data.resultCode === 0) {\n    dispatch(actionCreator(userId));\n  }\n  dispatch(toggleFollowingProgress(false, userId));\n};\n\nexport const follow = (userId) => {\n  return async (dispatch) => {\n    let apiMethod = api.followUser.bind(api);\n    followUnfollowFlow(dispatch, userId, apiMethod, followSuccess);\n  };\n};\n\nexport const unfollow = (userId) => {\n  return async (dispatch) => {\n    let apiMethod = api.unFollowUser.bind(api);\n    followUnfollowFlow(dispatch,userId, apiMethod, unfollowSuccess);\n  };\n};\n\nexport default usersReducer;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__ihtu9\"};","import React from 'react';\nimport {Redirect} from \"react-router-dom\";\nimport {connect} from \"react-redux\";\n\nconst mapStateToPropsRedirect = (state) => ({\n  isAuth: state.auth.isAuth\n});\n\nexport const withAuthRedirect = (Component) => {\n  class RedirectComponent extends React.Component {\n    render() {\n      if (!this.props.isAuth) return <Redirect to=\"/login\" />;\n      return <Component {...this.props} />\n    }\n  }\n\n  const ConnectedRedirectComponent = connect(mapStateToPropsRedirect)(RedirectComponent);\n\n  return ConnectedRedirectComponent;\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__2imOE\",\"navList\":\"Navbar_navList__1GFvw\",\"item\":\"Navbar_item__zmMk4\",\"activeLink\":\"Navbar_activeLink__3etBE\"};","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import classes from './Navbar.module.css';\nimport {NavLink} from \"react-router-dom\";\n\nconst Navbar = () => {\n  return (\n    <nav className={classes.nav}>\n      <ul className={classes.navList}>\n        <li className={classes.item}>\n          <NavLink to=\"/profile\" activeClassName={classes.activeLink}>Profile</NavLink>\n        </li>\n        <li className={classes.item}>\n          <NavLink to=\"/dialogs\" activeClassName={classes.activeLink}>Messages</NavLink>\n        </li>\n        <li className={classes.item}>\n          <NavLink to=\"/users\" activeClassName={classes.activeLink}>Users</NavLink>\n        </li>\n        <li className={classes.item}>\n          <NavLink to=\"/news\" activeClassName={classes.activeLink}>News</NavLink>\n        </li>\n        <li className={classes.item}>\n          <NavLink to=\"/music\" activeClassName={classes.activeLink}>Music</NavLink>\n        </li>\n        <li className={classes.item}>\n          <NavLink to=\"/settings\" activeClassName={classes.activeLink}>Settings</NavLink>\n        </li>\n      </ul>\n    </nav>\n  );\n};\n\nexport default Navbar;\n","import classes from \"./News.module.css\";\n\nconst News = (props) => {\n  return (\n    <div>\n      News\n    </div>\n  );\n};\n\nexport default News;\n","import classes from \"./Music.module.css\";\n\nconst Music = (props) => {\n  return (\n    <div>\n      Music\n    </div>\n  );\n};\n\nexport default Music;\n","import classes from \"./Settings.module.css\";\n\nconst Settings = (props) => {\n  return (\n    <div>\n      Settings\n    </div>\n  );\n};\n\nexport default Settings;\n","import {useEffect, useState} from 'react';\n\nconst ProfileStatusWithHooks = (props) => {\n  const [editMode, setEditMode] = useState(false);\n  const [status, setStatus] = useState(props.status);\n\n  useEffect(() => {\n    setStatus(props.status);\n  }, [props.status]);\n\n  const activateEditMode = () => {\n    setEditMode(true);\n  };\n\n  const deactivateEditMode = () => {\n    setEditMode(false);\n    props.updateStatus(status);\n  }\n\n  const onStatusChange = (e) => {\n    setStatus(e.target.value);\n  }\n\n  return (\n    <>\n      {!editMode &&\n      <div>\n        <b>Status</b>: <span onDoubleClick={activateEditMode}>{props.status || 'no status'}</span>\n      </div>\n      }\n      {editMode &&\n      <div>\n        <input type=\"text\"\n               onChange={onStatusChange}\n               onBlur={deactivateEditMode}\n               autoFocus\n               value={status} />\n      </div>\n      }\n    </>\n  );\n\n}\n\nexport default ProfileStatusWithHooks;\n","import React from 'react';\n\nclass ProfileStatus extends React.Component {\n  state = {\n    editMode: false,\n    status: this.props.status\n  };\n\n  activateEditMode = () => {\n    this.setState({\n      editMode: true\n    });\n  }\n\n  deactivateEditMode = () => {\n    this.setState({\n      editMode: false\n    });\n    this.props.updateStatus(this.state.status);\n  }\n\n  onStatusChange = (e) => {\n    this.setState({\n      status: e.target.value\n    });\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    if (prevProps.status !== this.props.status) {\n      this.setState({\n        status: this.props.status\n      });\n    }\n  }\n\n  render() {\n    return (\n      <>\n        {!this.state.editMode &&\n        <div>\n          <span onDoubleClick={this.activateEditMode}>{this.props.status || 'no status'}</span>\n        </div>\n        }\n        {this.state.editMode &&\n        <div>\n          <input type=\"text\"\n                 onChange={this.onStatusChange}\n                 onBlur={this.deactivateEditMode}\n                 autoFocus\n                 value={this.state.status} />\n        </div>\n        }\n      </>\n    );\n  }\n}\n\nexport default ProfileStatus;\n","import {Input, TextArea} from \"../../../common/CustomFields/CustomFields\";\nimport {Field, reduxForm} from \"redux-form\";\nimport styles from '../../../common/CustomFields/CustomFields.module.css';\n\nconst ProfileDataForm = ({handleSubmit, profile, error}) => { // TODO need to refactor form\n  return (\n    <form onSubmit={handleSubmit}>\n      <div><button type=\"submit\">save</button></div>\n      {error && <p className={styles.commonError}>{error}</p>}\n      <div>\n        <b>Full name</b>: <Field name=\"fullName\"\n                                 component={Input}\n                                 type=\"text\"\n                                 placeholder=\"Full name\" />\n      </div>\n      <div>\n        <b>looking for a job</b>: <Field name=\"lookingForAJob\"\n                                         component={Input}\n                                         type=\"checkbox\" />\n      </div>\n      <div>\n        <b>My professional skills</b>: <Field name=\"lookingForAJobDescription\"\n                                              component={TextArea}\n                                              placeholder=\"My professional skills\"/>\n      </div>\n      <div>\n        <b>About me</b>: <Field name=\"aboutMe\"\n                                component={TextArea}\n                                placeholder=\"About me\"/>\n      </div>\n      <div>\n        <b>Contacts</b>:\n        <ul>\n          {Object.entries(profile.contacts).map(([key, value]) => {\n            return (\n              <li key={key}>\n                <label>\n                  <b>{key}</b>:\n                  <Field name={`contacts.${key}`} component={Input} value={value} placeholder={key} />\n                </label>\n              </li>\n            );\n          })}\n        </ul>\n      </div>\n    </form>\n  );\n};\n\nconst ProfileDataFormReduxForm = reduxForm({form: 'editProfile'})(ProfileDataForm);\n\nexport default ProfileDataFormReduxForm;\n","import styles from './ProfileInfo.module.css';\nimport Preloader from '../../common/Preloader/Preloader';\nimport ProfileStatus from './ProfileStatus/ProfileStatus';\nimport ProfileStatusWithHooks from \"./ProfileStatus/ProfileStatusWithHooks\";\nimport userPhoto from \"../../../assets/images/user.png\";\nimport {useState} from \"react\";\nimport ProfileDataForm from \"./ProfileDataForm/ProfileDataForm\";\n\nconst Contact = ({contactTitle, contactValue}) => {\n  return (\n    <div>\n      <b>{contactTitle}</b>: {contactValue}\n    </div>\n  );\n};\n\nconst ProfileData = ({userProfile, isOwner, goToEditMode}) => { // TODO need to refactor this jsx\n  return (\n    <div>\n      {isOwner ? <div><button onClick={goToEditMode}>edit</button></div> : null}\n      <div>\n        <b>Full name</b>: {userProfile.fullName}\n      </div>\n      <div>\n        <b>Looking for a job</b>: {userProfile.lookingForAJob ? 'yes' : 'no'}\n      </div>\n      {userProfile.lookingForAJob &&\n      <div>\n        <b>My professional skills</b>: {userProfile.lookingForAJobDescription}\n      </div>}\n      <div>\n        <b>About me</b>: {userProfile.aboutMe}\n      </div>\n      <div>\n        <b>Contacts</b>:\n        <ul className={styles.contacts}>\n          {Object.entries(userProfile.contacts).map(([key, value]) => (\n              <li key={key} className={styles.contact}><Contact contactTitle={key} contactValue={value}/></li>))}\n        </ul>\n      </div>\n    </div>\n  );\n};\n\nconst ProfileInfo = ({userProfile, status, updateStatus, isOwner, uploadPhoto, saveProfile}) => {\n  const [editMode, setEditMode] = useState(false);\n\n  if (!userProfile) {\n    return <Preloader />\n  }\n\n  const onPhotoSelected = (e) => {\n    if (e.target.files.length > 0) {\n      uploadPhoto(e.target.files[0]);\n    }\n  }\n\n  const onSubmit = (formValues) => {\n    saveProfile(formValues).then(() => setEditMode(false));\n  };\n\n// TODO добавить больше инфы\n  return (\n    <div>\n      <div className={styles.descriptionBlock}>\n        <p><img className={styles.userPhoto} src={userProfile.photos.large || userPhoto} /></p>\n        <p>{isOwner && <input type=\"file\"\n                              name=\"profile-pic\"\n                              accept=\".jpg, .jpeg, .png\"\n                              onChange={onPhotoSelected} />}\n        </p>\n        {editMode\n          ? <ProfileDataForm initialValues={userProfile} profile={userProfile} onSubmit={onSubmit} />\n          : <ProfileData userProfile={userProfile} isOwner={isOwner} goToEditMode={() => setEditMode(true)} />}\n        <ProfileStatusWithHooks status={status} updateStatus={updateStatus} />\n      </div>\n    </div>\n  );\n};\n\nexport default ProfileInfo;\n","import {api} from \"../api/api\";\nimport {stopSubmit} from \"redux-form\";\n\nconst ADD_POST = 'ADD-POST';\nconst SET_USER_PROFILE = 'SET-USER-PROFILE';\nconst SET_STATUS = 'SET-STATUS';\nconst DELETE_POST = 'DELETE-POST';\nconst UPLOAD_PHOTO_SUCCESS = 'UPLOAD-PHOTO-SUCCESS';\n\nconst initialState = {\n  posts: [\n    { id: 1, message: 'Hi, how are you?', likesCount: 15 },\n    { id: 2, message: 'It\\'s my first post', likesCount: 20 },\n  ],\n  userProfile: null, // may be profile\n  status: ''\n};\n\nconst profileReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case ADD_POST: // TODO наверно лучше сразу копировать весь стейт\n      const newPost = {\n        id: 5,\n        message: action.newPostText,\n        likesCount: 0,\n      };\n      return {\n        ...state,\n        posts: [...state.posts, newPost]\n      };\n\n    case SET_USER_PROFILE:\n      return {\n        ...state,\n        userProfile: action.userProfile\n      };\n\n    case SET_STATUS:\n      return {\n        ...state,\n        status: action.status\n      };\n\n    case DELETE_POST:\n      return {\n        ...state,\n        posts: state.posts.filter(p => p.id !== action.postId)\n      };\n\n    case UPLOAD_PHOTO_SUCCESS:\n      return {\n        ...state,\n        userProfile: {\n          ...state.userProfile,\n          photos: action.photos\n        }\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport const addPostActionCreator = (newPostText) => ({type: ADD_POST, newPostText});\nconst setUserProfile = (profile) => ({type: SET_USER_PROFILE, userProfile: profile});\nconst setStatus = (status) => ({type: SET_STATUS, status});\nexport const deletePost = (postId) => ({type: DELETE_POST, postId});\nconst uploadPhotoSuccess = (photos) => ({type: UPLOAD_PHOTO_SUCCESS, photos});\n\nexport const getUserProfile = (userId) => async (dispatch) => {\n  const data = await api.getProfile(userId);\n  dispatch(setUserProfile(data));\n};\n\nexport const getStatus = (userId) => async (dispatch) => {\n  const data = await api.getStatus(userId);\n  dispatch(setStatus(data));\n};\n\nexport const updateStatus = (status) => async (dispatch) => {\n  try {\n    const data = await api.updateStatus(status);\n    if (data.resultCode === 0) {\n      dispatch(setStatus(status));\n    }\n  } catch (error) {\n    // debugger;\n  }\n};\n\nexport const uploadPhoto = (file) => async (dispatch) => {\n  const data = await api.uploadPhoto(file);\n  if (data.resultCode === 0) {\n    dispatch(uploadPhotoSuccess(data.data.photos));\n  }\n};\n\nexport const saveProfile = (profile) => async (dispatch, getState) => {\n  const userId = getState().auth.userId;\n  const data = await api.saveProfile(profile);\n  if (data.resultCode === 0) {\n    dispatch(getUserProfile(userId));\n  } else {\n    const message = data.messages.length > 0 ? data.messages[0] : 'Some error';\n    const action = stopSubmit('editProfile', {_error: message});\n    dispatch(action);\n    throw message;\n  }\n};\n\nexport default profileReducer;\n","import classes from './Post.module.css';\n\nconst Post = (props) => {\n  return (\n    <div className={classes.item}>\n      <img src=\"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcThIRZXYvGCN_04MZEpnTlOAhtRMU9iXOlQoQ&usqp=CAU\" />\n      {props.message}\n      <div>\n        <span>like {props.likesCount}</span>\n      </div>\n    </div>\n  );\n};\n\nexport default Post;\n","import styles from './MyPosts.module.css';\nimport Post from \"./Post/Post\";\nimport React from \"react\";\nimport {Field, reduxForm} from \"redux-form\";\nimport {maxLength, required} from \"../../../utils/validators/validators\";\nimport {TextArea} from \"../../common/CustomFields/CustomFields\";\n\nconst maxLength10 = maxLength(10);\n\nconst AddNewPostForm = (props) => {\n  return (\n    <form onSubmit={props.handleSubmit}>\n      <p>\n          <Field name=\"newPostText\"\n                 component={TextArea}\n                 placeholder=\"Введите текст нового поста\"\n                 validate={[required, maxLength10]} />\n      </p>\n      <p>\n        <button type=\"submit\">Add post</button>\n      </p>\n    </form>\n  );\n};\n\nconst AddPostReduxForm = reduxForm({form: 'profileAddNewPost'})(AddNewPostForm);\n\nconst MyPosts = React.memo((props) => {\n  const postsElements = props.postsData.map(post => <Post message={post.message} likesCount={post.likesCount} key={post.id} />);\n\n  const addPost = (formValues) => {\n    console.log(formValues);\n    props.addPost(formValues.newPostText);\n  };\n\n  return (\n    <div className={styles.postsBlock}>\n      <h3>My posts</h3>\n      <AddPostReduxForm onSubmit={addPost} />\n      <div className={styles.posts}>\n        {postsElements}\n      </div>\n    </div>\n  );\n});\n\nexport default MyPosts;\n","//КОнтейнерная компонента. Идея её просто быть обёрткой для какой-то обычной компоненты, чистой компоненты функциональной, презентационной. Удовлетворить нужды той компоненты, подготовить для неё данные, колбеки. Не имеет своего вида.\n// Можем теперь основную (презентационную компоненту) переиспользовать где-то. Независя от редакса или других стейт менеджеров. Не привязана ни к какой технологии типа редакс. Она чистенькая, получает данные на входе и возвращает фиксироавнную разметку на выходе и вызывает какие-то колбеки, которые в пропсах приходят\n// Что произойдёт, когда она вызовет колбеки, она понятия не имеет\n// Одно работает с данными, другое с отображением\n// Разделяем логику работы с данными и логику по отображению\n//\n// Контейнерная компонента создаётся для того, чтобы функциональная могла остаться функциональной: чистой и простой!\n// Функциональной компоненте нужны данные! Вот контейнерная и даст ей их, взяв всю грязную работу на себя!\nimport React from \"react\";\nimport {addPostActionCreator} from \"../../../redux/profile-reducer\";\nimport MyPosts from \"./MyPosts\";\nimport {connect} from \"react-redux\";\n\nconst mapStateToProps = (state) => {\n  return {\n    postsData: state.profilePage.posts\n  }\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    addPost: (newPostText) => {\n      const action = addPostActionCreator(newPostText);\n      dispatch(action);\n    }\n  };\n};\n\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts);\n\nexport default MyPostsContainer;\n","import classes from './Profile.module.css'; // TODO переименовать стили в styles\nimport ProfileInfo from \"./ProfileInfo/ProfileInfo\";\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\";\n\nconst Profile = (props) => {\n  return (\n    <div>\n      <ProfileInfo userProfile={props.userProfile}\n                   status={props.status}\n                   updateStatus={props.updateStatus}\n                   isOwner={props.isOwner}\n                   uploadPhoto={props.uploadPhoto}\n                   saveProfile={props.saveProfile}\n      />\n      <MyPostsContainer />\n    </div>\n  );\n};\n\nexport default Profile;\n","import React from 'react';\nimport {connect} from \"react-redux\";\nimport Profile from \"./Profile\";\nimport {getStatus, getUserProfile, saveProfile, updateStatus, uploadPhoto} from \"../../redux/profile-reducer\";\nimport {withRouter} from \"react-router-dom\";\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\nimport {compose} from \"redux\";\n\nclass ProfileContainer extends React.Component {\n  refreshProfile() {\n    let userId = this.props.match.params.userId;\n    if (!userId) {\n      userId = this.props.authorizedUserId;\n      if (!userId) {\n        this.props.history.push('/login');\n        return;\n      }\n    }\n    this.props.getUserProfile(userId);\n    this.props.getStatus(userId);\n  }\n\n  componentDidMount() {\n    this.refreshProfile();\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    if (this.props.match.params.userId !== prevProps.match.params.userId) {\n      this.refreshProfile();\n    }\n  }\n\n  render() {\n    return (\n      <Profile {...this.props} isOwner={!this.props.match.params.userId} /> // TODO идёт передача всех пропсов, мб надо убрать лишние типа экшкреэйтера '{userProfile: {…}'\n    )\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  userProfile: state.profilePage.userProfile,\n  status: state.profilePage.status,\n  authorizedUserId: state.auth.userId,\n  isAuth: state.auth.isAuth // TODO не используется\n});\n\nexport default compose(\n  connect(mapStateToProps, {getUserProfile, getStatus, updateStatus, uploadPhoto, saveProfile}),\n  withRouter,\n  // withAuthRedirect\n)(ProfileContainer);\n","import styles from \"./Header.module.css\";\nimport {Link} from \"react-router-dom\";\n\nconst Header = (props) => {\n  return (\n    <header className={styles.header}>\n      <img src=\"https://www.vhv.rs/dpng/d/573-5732595_logo-maker-shop-make-your-logo-in-5.png\" width=\"50px\" />\n      <div className={styles.loginBlock}>\n        {props.isAuth\n          ? <p>{props.login} - <button type=\"button\" onClick={props.logout}>Log out</button> </p>\n          : <Link className={styles.loginLink} to={\"/login\"}>Login</Link>}\n      </div>\n    </header>\n  );\n};\n\nexport default Header;\n","import React from 'react';\nimport {connect} from \"react-redux\";\nimport {logout} from \"../../redux/auth-reducer\";\nimport Header from \"./Header\";\n\nclass HeaderContainer extends React.Component {\n  render() {\n    return (\n      <Header {...this.props} /> // TODO не все пропсы нужны в этом компоненте\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  isAuth: state.auth.isAuth,\n  login: state.auth.login\n});\n\nexport default connect(mapStateToProps, {logout})(HeaderContainer);\n","import {getAuthUserData} from \"./auth-reducer\";\n\nconst INITIALIZED_SUCCESS = 'INITIALIZED-SUCCESS';\n\nconst initialState = {\n  initialized: false\n};\n\nconst appReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case INITIALIZED_SUCCESS:\n      return {\n        ...state,\n        initialized: true\n      };\n\n    default:\n      return state;\n  }\n};\n\nconst initializedSuccess = () => ({type: INITIALIZED_SUCCESS});\n\nexport const initializeApp = () => async (dispatch) => {\n  await dispatch(getAuthUserData());\n  dispatch(initializedSuccess());\n};\n\nexport default appReducer;\n","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\nimport profileReducer from \"./profile-reducer\";\nimport dialogsReducer from \"./dialogs-reducer\";\nimport usersReducer from \"./users-reducer\";\nimport authReducer from \"./auth-reducer\";\nimport thunkMiddleware from \"redux-thunk\";\nimport { reducer as formReducer } from 'redux-form'\nimport appReducer from \"./app-reducer\";\n\nconst reducers = combineReducers({\n  profilePage: profileReducer,\n  dialogsPage: dialogsReducer,\n  usersPage: usersReducer,\n  auth: authReducer,\n  app: appReducer,\n  form: formReducer\n});\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\n// const store = createStore(reducers, applyMiddleware(thunkMiddleware));\n\nexport default store;\n\nwindow.store = store; // TODO for debug, delete this\n","import React from \"react\";\nimport {Switch, Route, Redirect, BrowserRouter, HashRouter} from \"react-router-dom\";\nimport './App.css';\nimport Navbar from \"./components/Navbar/Navbar\";\n// import DialogsContainer from \"./components/Dialogs/DialogsContainer\";\nimport News from \"./components/News/News\";\nimport Music from \"./components/Music/Music\";\nimport Settings from \"./components/Settings/Settings\";\n// import UsersContainer from \"./components/Users/UsersContainer\";\nimport ProfileContainer from \"./components/Profile/ProfileContainer\";\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\n// import Login from \"./components/Login/Login\";\nimport {connect, Provider} from \"react-redux\";\nimport {initializeApp} from \"./redux/app-reducer\";\nimport Preloader from \"./components/common/Preloader/Preloader\";\nimport store from './redux/redux-store';\n\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'));\nconst UsersContainer = React.lazy(() => import('./components/Users/UsersContainer'));\nconst Login = React.lazy(() => import('./components/Login/Login'));\n\nclass App extends React.Component {\n  handleAllUnhandledRejection = (promiseRejectionEvent) => {\n    alert('Some error occurred');\n    // объект события имеет два специальных свойства:\n    console.error(promiseRejectionEvent.promise); // [object Promise] - промис, который сгенерировал ошибку\n    console.error(promiseRejectionEvent.reason); // Error: Ошибка! - объект ошибки, которая не была обработана\n}\n\n  componentDidMount() {\n    this.props.initializeApp();\n    window.addEventListener('unhandledrejection', this.handleAllUnhandledRejection);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('unhandledrejection', this.handleAllUnhandledRejection);\n  }\n\n  render() {\n    if (!this.props.initialized) {\n      return <Preloader />\n    }\n\n    return (\n      <div className=\"app-wrapper\">\n        <HeaderContainer/>\n        <Navbar/>\n        <div className=\"app-wrapper-content\">\n          <React.Suspense fallback={<Preloader />}>\n            <Switch>\n              <Route path=\"/profile/:userId?\"\n                     render={() => <ProfileContainer/>}/>\n              <Route path=\"/dialogs\"\n                     render={() => <DialogsContainer/>}/>\n              <Route path=\"/users\"\n                     render={() => <UsersContainer/>}/>\n              <Route path=\"/news\" component={News}/>\n              <Route path=\"/music\" component={Music}/>\n              <Route path=\"/settings\" component={Settings}/>\n              <Route path=\"/login\" component={Login}/>\n              <Redirect from=\"/\" to=\"/profile\"/>\n            </Switch>\n          </React.Suspense>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  initialized: state.app.initialized\n});\n\nconst AppContainer = connect(mapStateToProps, {initializeApp})(App);\n\nconst SamuraiJsApp = () => {\n  return (\n    <HashRouter>\n      <Provider store={store}>\n        <AppContainer />\n      </Provider>\n    </HashRouter>\n  );\n};\n\nexport default SamuraiJsApp;\n","// React(UI), Redux(BLL), Redux Thunk, CSS Modules, axios, react-router-dom(Switch, Route, NavLink, Link, withRouter, Redirect), Redux Form, selectors, reselect\nimport reportWebVitals from './reportWebVitals';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport SamuraiJsApp from './App';\n// import {BrowserRouter} from \"react-router-dom\";\n// import store from './redux/redux-store';\n// import {Provider} from \"react-redux\";\n\n// setInterval(() => {\n//   store.dispatch({type: 'FAKE'}); // TODO для понимания reselect, удалить потом\n// }, 1000);\n\nReactDOM.render(\n  <React.StrictMode>\n    <SamuraiJsApp />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","import styles from './CustomFields.module.css';\n\nexport const CustomField = (FormField) => ({input, meta: {error, touched, submitting, submitFailed, visited}, ...props}) => {\n  const hasError = touched && error; // TODO проработать случаи появления ошибки\n  return (\n    <div className={styles.field}>\n        <FormField className={hasError ? styles.error : ''} {...input} {...props} />\n        {hasError &&\n          <span className={styles.errorMessage}>&nbsp;{error}</span>}\n    </div>\n  );\n};\n\nexport const Input = CustomField('input');\n\nexport const TextArea = CustomField('textarea');\n\n\nexport const CustomFields = (props) => {\n  console.log(props)\n  return (\n    <div>\n      <input  />\n    </div>\n  );\n};\n\n// const renderField = ({\n//                        input,\n//                        label,\n//                        type,\n//                        meta: { touched, error, warning }\n//                      }) => (\n//   <div>\n//     <label>{label}</label>\n//     <div>\n//       <input {...input} placeholder={label} type={type} />\n//       {touched &&\n//       ((error && <span>{error}</span>) ||\n//         (warning && <span>{warning}</span>))}\n//     </div>\n//   </div>\n// )\n","import {api} from \"../api/api\";\nimport {stopSubmit} from \"redux-form\";\n\nconst SET_AUTH_USER_DATA = 'samurai-network/auth/SET-AUTH-USER-DATA';\nconst GET_CAPTCHA_URL_SUCCESS = 'samurai-network/auth/GET-CAPTCHA-URL-SUCCESS';\n\nconst initialState = {\n  userId: null,\n  login: null,\n  email: null,\n  isAuth: false,\n  captchaUrl: null // if null, then captcha is not required\n};\n\nconst authReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case SET_AUTH_USER_DATA:\n    case GET_CAPTCHA_URL_SUCCESS:\n      return {\n        ...state,\n        ...action.payload\n      };\n\n    default:\n      return state;\n  }\n};\n\nconst setAuthUserData = (userId, login, email, isAuth) => ({type: SET_AUTH_USER_DATA, payload: {userId, login, email, isAuth}});\nconst getCaptchaUrlSuccess = (captchaUrl) => ({type: GET_CAPTCHA_URL_SUCCESS, payload: {captchaUrl}});\nconst resetCaptchaUrl = () => ({type: GET_CAPTCHA_URL_SUCCESS, payload: {captchaUrl: null}});\n\nexport const getAuthUserData = () => async (dispatch) => {\n  const data = await api.me();\n  if (data.resultCode === 0) {\n    const {id, login, email} = data.data;\n    dispatch(setAuthUserData(id, login, email, true)); // TODO можно еще профиль залогиненного юзера загрузить и отобразить что-нибудь напр аватар\n  }\n};\n\nexport const login = (email, password, rememberMe, captcha) => async (dispatch) => {\n  const data = await api.login(email, password, rememberMe, captcha);\n  if (data.resultCode === 0) {\n    dispatch(getAuthUserData());\n    dispatch(resetCaptchaUrl());\n  } else {\n    const message = data.messages.length > 0 ? data.messages[0] : 'Some error';\n    const action = stopSubmit('login', {_error: message});\n    dispatch(action);\n    if (data.resultCode === 10) {\n      dispatch(getCaptchaUrl());\n    }\n  }\n};\n\nexport const logout = () => async (dispatch) => {\n  const data = await api.logout();\n  if (data.resultCode === 0) {\n    dispatch(setAuthUserData(null, null, null, false));\n  }\n};\n\nconst getCaptchaUrl = () => async (dispatch) => {\n  const data = await api.getCaptchaUrl();\n  const captchaUrl = data.url\n  dispatch(getCaptchaUrlSuccess(captchaUrl));\n};\n\nexport default authReducer;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"field\":\"CustomFields_field__2n1Rd\",\"error\":\"CustomFields_error__2mqrG\",\"errorMessage\":\"CustomFields_errorMessage__P464I\",\"commonError\":\"CustomFields_commonError__1eqtW\"};","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgPreloader(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"L9\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 100 100\",\n    enableBackground: \"new 0 0 0 0\",\n    xmlSpace: \"preserve\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#fff\",\n    d: \"M73,50c0-12.7-10.3-23-23-23S27,37.3,27,50 M30.9,50c0-10.5,8.5-19.1,19.1-19.1S69.1,39.5,69.1,50\"\n  }, /*#__PURE__*/React.createElement(\"animateTransform\", {\n    attributeName: \"transform\",\n    attributeType: \"XML\",\n    type: \"rotate\",\n    dur: \"1s\",\n    from: \"0 50 50\",\n    to: \"360 50 50\",\n    repeatCount: \"indefinite\"\n  }))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgPreloader);\nexport default __webpack_public_path__ + \"static/media/preloader.469e1cec.svg\";\nexport { ForwardRef as ReactComponent };","import styles from './Preloader.module.css';\nimport {ReactComponent as PreloaderImage} from './preloader.svg';\n\n// https://codepen.io/nikhil8krishnan/pen/rVoXJa\nconst Preloader = () => { // TODO надо бы выключить скролл при лоадере\n  return (\n    <div className={styles.overlay}>\n      <PreloaderImage className={styles.preloader} />\n    </div>\n  );\n};\n\nexport default Preloader;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"descriptionBlock\":\"ProfileInfo_descriptionBlock__3cd8Y\",\"userPhoto\":\"ProfileInfo_userPhoto__1UIR7\",\"contacts\":\"ProfileInfo_contacts__3y62P\",\"contact\":\"ProfileInfo_contact__1N3gp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1VCKf\",\"loginBlock\":\"Header_loginBlock__6mma5\",\"loginLink\":\"Header_loginLink__1yPle\"};","export const required = (value) => {\n  if (!value) {\n    return 'Поле обязательно';\n  }\n  return undefined;\n};\n\nexport const maxLength = (max) => (value) => {\n  if (value && value.length > max) {\n    return `Должно быть меньше ${max} символов`;\n  }\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Preloader_overlay__10YTb\",\"preloader\":\"Preloader_preloader__2dvkO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postsBlock\":\"MyPosts_postsBlock__2ifKf\",\"posts\":\"MyPosts_posts__3tZ1c\"};","export default __webpack_public_path__ + \"static/media/user.2e4b3717.png\";"],"sourceRoot":""}