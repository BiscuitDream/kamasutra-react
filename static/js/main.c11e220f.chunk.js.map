{"version":3,"sources":["redux/dialogs-reducer.js","utils/object-helpers.js","redux/users-reducer.js","components/Profile/ProfileInfo/ProfileInfo.module.css","components/Profile/MyPosts/Post/Post.module.css","hoc/withAuthRedirect.js","components/Navbar/Navbar.module.css","api/api.js","reportWebVitals.js","components/Navbar/Navbar.jsx","components/News/News.jsx","components/Music/Music.jsx","components/Settings/Settings.jsx","components/Profile/ProfileInfo/ProfileStatus/ProfileStatus.jsx","components/Profile/ProfileInfo/ProfileStatus/ProfileStatusWithHooks.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","redux/profile-reducer.js","components/Profile/MyPosts/Post/Post.jsx","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/MyPostsContainer.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx","components/Header/Header.jsx","components/Header/HeaderContainer.jsx","redux/app-reducer.js","redux/redux-store.js","App.js","index.js","redux/auth-reducer.js","components/common/Preloader/preloader.svg","components/common/Preloader/Preloader.jsx","components/common/CustomFields/CustomFields.module.css","components/Header/Header.module.css","utils/validators/validators.js","components/common/Preloader/Preloader.module.css","components/Profile/MyPosts/MyPosts.module.css","components/common/CustomFields/CustomFields.js"],"names":["SEND_NEW_MESSAGE","initialState","dialogs","id","name","messages","text","sendNewMessageActionCreator","newMessageText","type","dialogsReducer","state","action","newMessage","updateObjectInArray","items","propValue","objPropName","newObjProps","map","item","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_FOLLOWING_PROGRESS","users","pageSize","totalUsersCount","currentPage","isFetching","followingInProgress","followSuccess","userId","unfollowSuccess","toggleIsFetching","toggleFollowingProgress","requestUsers","page","dispatch","a","api","getUsers","data","totalCount","followUnfollowFlow","apiMethod","actionCreator","resultCode","follow","followUser","bind","unfollow","unFollowUser","usersReducer","followed","filter","module","exports","mapStateToPropsRedirect","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","props","to","React","connect","axiosInstance","axios","create","baseURL","withCredentials","headers","get","then","response","post","delete","me","login","email","password","rememberMe","logout","getProfile","getStatus","updateStatus","status","put","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","Navbar","className","classes","nav","navList","activeClassName","activeLink","News","Music","Settings","ProfileStatusWithHooks","useState","editMode","setEditMode","setStatus","useEffect","onDoubleClick","onChange","e","target","value","onBlur","autoFocus","ProfileInfo","userProfile","styles","descriptionBlock","src","photos","large","Preloader","ADD_POST","SET_USER_PROFILE","SET_STATUS","DELETE_POST","posts","message","likesCount","profileReducer","newPost","newPostText","p","postId","Post","maxLength10","maxLength","AddPostReduxForm","reduxForm","form","onSubmit","handleSubmit","Field","component","TextArea","placeholder","validate","required","MyPosts","memo","postsElements","postsData","postsBlock","formValues","console","log","addPost","MyPostsContainer","profilePage","addPostActionCreator","Profile","ProfileContainer","match","params","authorizedUserId","history","push","getUserProfile","compose","withRouter","Header","header","width","loginBlock","onClick","loginLink","HeaderContainer","INITIALIZED_SUCCESS","initialized","appReducer","reducers","combineReducers","dialogsPage","usersPage","authReducer","app","formReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","DialogsContainer","lazy","UsersContainer","Login","App","initializeApp","Suspense","fallback","path","render","from","AppContainer","getAuthUserData","SamuraiJsApp","ReactDOM","StrictMode","document","getElementById","SET_AUTH_USER_DATA","setAuthUserData","payload","length","stopSubmit","_error","_path","_excluded","_extends","Object","assign","i","arguments","source","key","prototype","hasOwnProperty","call","apply","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgPreloader","_ref","svgRef","title","titleId","xmlns","xmlnsXlink","x","y","viewBox","enableBackground","xmlSpace","ref","fill","d","attributeName","attributeType","dur","repeatCount","ForwardRef","overlay","preloader","max","CustomField","FormField","input","meta","error","touched","submitting","submitFailed","visited","hasError","field","errorMessage","Input"],"mappings":"+KAAMA,EAAmB,mBAEnBC,EAAe,CACnBC,QAAS,CACP,CAAEC,GAAI,EAAGC,KAAM,UACf,CAAED,GAAI,EAAGC,KAAM,UACf,CAAED,GAAI,EAAGC,KAAM,SACf,CAAED,GAAI,EAAGC,KAAM,SACf,CAAED,GAAI,EAAGC,KAAM,UACf,CAAED,GAAI,EAAGC,KAAM,WAEjBC,SAAU,CACR,CAAEF,GAAI,EAAGG,KAAM,MACf,CAAEH,GAAI,EAAGG,KAAM,mBACf,CAAEH,GAAI,EAAGG,KAAM,OACf,CAAEH,GAAI,EAAGG,KAAM,OACf,CAAEH,GAAI,EAAGG,KAAM,SAqBNC,EAA8B,SAACC,GAAD,MAAqB,CAACC,KAAMT,EAAkBQ,mBAE1EE,IAnBQ,WAAmC,IAAlCC,EAAiC,uDAAzBV,EAAcW,EAAW,uCACvD,OAAQA,EAAOH,MACb,KAAKT,EACH,IAAMa,EAAa,CACjBV,GAAI,EACJG,KAAMM,EAAOJ,gBAEf,OAAO,2BACFG,GADL,IAEEN,SAAS,GAAD,mBAAMM,EAAMN,UAAZ,CAAsBQ,MAGlC,QACE,OAAOF,K,0LCjCAG,EAAsB,SAACC,EAAOC,EAAWC,EAAaC,GACjE,OAAOH,EAAMI,KAAI,SAACC,GAChB,OAAIA,EAAKH,KAAiBD,EACjB,2BAAII,GAASF,GAEfE,MCFLC,EAAS,SACTC,EAAW,WACXC,EAAY,YACZC,EAAmB,mBACnBC,EAAwB,wBACxBC,EAAqB,qBACrBC,EAA4B,4BAE5B1B,EAAe,CACnB2B,MAAO,GACPC,SAAU,EACVC,gBAAiB,EACjBC,YAAa,EACbC,YAAY,EACZC,oBAAqB,IA0DjBC,EAAgB,SAACC,GAAD,MAAa,CAAC1B,KAAMY,EAAQc,WAC5CC,EAAkB,SAACD,GAAD,MAAa,CAAC1B,KAAMa,EAAUa,WAIhDE,EAAmB,SAACL,GAAD,MAAiB,CAACvB,KAAMiB,EAAoBM,eAC/DM,EAA0B,SAACN,EAAYG,GAAb,MAAyB,CAAC1B,KAAMkB,EAA2BK,aAAYG,WAE1FI,EAAe,SAACC,EAAMX,GACjC,8CAAO,WAAOY,GAAP,eAAAC,EAAA,6DACLD,EAASJ,GAAiB,IAC1BI,EARqC,CAAChC,KAAMe,EAAkBO,YAQtCS,IAFnB,SAIcG,IAAIC,SAASJ,EAAMX,GAJjC,OAICgB,EAJD,OAKLJ,GAZcb,EAYIiB,EAAK9B,MAZE,CAACN,KAAMc,EAAWK,WAa3Ca,GAXwBX,EAWIe,EAAKC,WAXY,CAACrC,KAAMgB,EAAuBK,qBAY3EW,EAASJ,GAAiB,IAPrB,iCALkB,IAACP,EAFVF,IAOT,OAAP,uDAWImB,EAAkB,uCAAG,WAAON,EAAUN,EAAQa,EAAWC,GAApC,SAAAP,EAAA,6DACzBD,EAASH,GAAwB,EAAMH,IADd,SAENa,EAAUb,GAFJ,OAID,IAJC,OAIhBe,YACPT,EAASQ,EAAcd,IAEzBM,EAASH,GAAwB,EAAOH,IAPf,2CAAH,4DAUXgB,EAAS,SAAChB,GACrB,8CAAO,WAAOM,GAAP,eAAAC,EAAA,sDACDM,EAAYL,IAAIS,WAAWC,KAAKV,KACpCI,EAAmBN,EAAUN,EAAQa,EAAWd,GAF3C,2CAAP,uDAMWoB,EAAW,SAACnB,GACvB,8CAAO,WAAOM,GAAP,eAAAC,EAAA,sDACDM,EAAYL,IAAIY,aAAaF,KAAKV,KACtCI,EAAmBN,EAASN,EAAQa,EAAWZ,GAF1C,2CAAP,uDAMaoB,IAnGM,WAAmC,IAAlC7C,EAAiC,uDAAzBV,EAAcW,EAAW,uCACrD,OAAQA,EAAOH,MACb,IAAK,OACH,OAAO,eAAIE,GAGb,KAAKU,EACH,OAAO,2BACFV,GADL,IAEEiB,MAAOd,EAAoBH,EAAMiB,MAAOhB,EAAOuB,OAAQ,KAAM,CAACsB,UAAU,MAG5E,KAAKnC,EACH,OAAO,2BACFX,GADL,IAEEiB,MAAOd,EAAoBH,EAAMiB,MAAOhB,EAAOuB,OAAQ,KAAM,CAACsB,UAAU,MAG5E,KAAKlC,EACH,OAAO,2BACFZ,GADL,IAEEiB,MAAOhB,EAAOgB,QAGlB,KAAKJ,EACH,OAAO,2BACFb,GADL,IAEEoB,YAAanB,EAAOmB,cAGxB,KAAKN,EACH,OAAO,2BACFd,GADL,IAEEmB,gBAAiBlB,EAAOkB,kBAG5B,KAAKJ,EACH,OAAO,2BACFf,GADL,IAEEqB,WAAYpB,EAAOoB,aAGrB,KAAKL,EACL,OAAO,2BACFhB,GADL,IAEEsB,oBAAqBrB,EAAOoB,WAAP,sBACbrB,EAAMsB,qBADO,CACcrB,EAAOuB,SACtCxB,EAAMsB,oBAAoByB,QAAO,SAAAvD,GAAE,OAAIA,IAAOS,EAAOuB,YAG7D,QACE,OAAOxB,K,oBCtEbgD,EAAOC,QAAU,CAAC,iBAAmB,wC,oBCArCD,EAAOC,QAAU,CAAC,KAAO,qB,qJCGnBC,EAA0B,SAAClD,GAAD,MAAY,CAC1CmD,OAAQnD,EAAMoD,KAAKD,SAGRE,EAAmB,SAACC,GAAe,IACxCC,EADuC,4JAE3C,WACE,OAAKC,KAAKC,MAAMN,OACT,cAACG,EAAD,eAAeE,KAAKC,QADI,cAAC,IAAD,CAAUC,GAAG,eAHH,GACbC,IAAML,WAStC,OAFmCM,YAAQV,EAARU,CAAiCL,K,mBCftEP,EAAOC,QAAU,CAAC,IAAM,oBAAoB,QAAU,wBAAwB,KAAO,qBAAqB,WAAa,6B,4ECDvH,+CAEMY,EAFN,OAEsBC,EAAMC,OAAO,CACjCC,QAAS,gDACTC,iBAAiB,EACjBC,QAAS,CACP,UAAW,0CAIFlC,EAAM,CACjBC,SADiB,SACRb,EAAaF,GACpB,OAAO2C,EACJM,IADI,qBACc/C,EADd,kBACmCF,IACvCkD,MAAK,SAAAC,GAAQ,OAAIA,EAASnC,SAG/BO,WAPiB,SAONjB,GACT,OAAOqC,EACJS,KADI,iBACW9C,IACf4C,MAAK,SAAAC,GAAQ,OAAIA,EAASnC,SAE/BU,aAZiB,SAYJpB,GACX,OAAOqC,EACJU,OADI,iBACa/C,IACjB4C,MAAK,SAAAC,GAAQ,OAAIA,EAASnC,SAG/BsC,GAlBiB,WAmBf,OAAOX,EACJM,IAAI,WACJC,MAAK,SAAAC,GAAQ,OAAIA,EAASnC,SAE/BuC,MAvBiB,SAuBXC,EAAOC,GAA+B,IAArBC,EAAoB,wDACzC,OAAOf,EACJS,KAAK,cAAe,CAACI,QAAOC,WAAUC,eACtCR,MAAK,SAAAC,GAAQ,OAAIA,EAASnC,SAE/B2C,OA5BiB,WA6Bf,OAAOhB,EACJU,OAAO,eACPH,MAAK,SAAAC,GAAQ,OAAIA,EAASnC,SAG/B4C,WAlCiB,SAkCNtD,GACT,OAAOqC,EACJM,IADI,kBACW3C,IACf4C,MAAK,SAAAC,GAAQ,OAAIA,EAASnC,SAE/B6C,UAvCiB,SAuCPvD,GACR,OAAOqC,EACJM,IADI,0BACmB3C,IACvB4C,MAAK,SAAAC,GAAQ,OAAIA,EAASnC,SAE/B8C,aA5CiB,SA4CJC,GACX,OAAOpB,EACJqB,IAAI,kBAAmB,CAACD,OAAQA,IAChCb,MAAK,SAAAC,GAAQ,OAAIA,EAASnC,W,gICzDjC,IAYeiD,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqBjB,MAAK,YAAkD,IAA/CkB,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,O,2HCuBCO,EA3BA,WACb,OACE,qBAAKC,UAAWC,IAAQC,IAAxB,SACE,qBAAIF,UAAWC,IAAQE,QAAvB,UACE,oBAAIH,UAAWC,IAAQpF,KAAvB,SACE,cAAC,IAAD,CAASiD,GAAG,WAAWsC,gBAAiBH,IAAQI,WAAhD,uBAEF,oBAAIL,UAAWC,IAAQpF,KAAvB,SACE,cAAC,IAAD,CAASiD,GAAG,WAAWsC,gBAAiBH,IAAQI,WAAhD,wBAEF,oBAAIL,UAAWC,IAAQpF,KAAvB,SACE,cAAC,IAAD,CAASiD,GAAG,SAASsC,gBAAiBH,IAAQI,WAA9C,qBAEF,oBAAIL,UAAWC,IAAQpF,KAAvB,SACE,cAAC,IAAD,CAASiD,GAAG,QAAQsC,gBAAiBH,IAAQI,WAA7C,oBAEF,oBAAIL,UAAWC,IAAQpF,KAAvB,SACE,cAAC,IAAD,CAASiD,GAAG,SAASsC,gBAAiBH,IAAQI,WAA9C,qBAEF,oBAAIL,UAAWC,IAAQpF,KAAvB,SACE,cAAC,IAAD,CAASiD,GAAG,YAAYsC,gBAAiBH,IAAQI,WAAjD,8BCbKC,G,OARF,SAACzC,GACZ,OACE,yCCMW0C,G,OARD,SAAC1C,GACb,OACE,0CCMW2C,G,OARE,SAAC3C,GAChB,OACE,6C,qDCFwBE,IAAML,U,OC0CnB+C,EA1CgB,SAAC5C,GAC9B,MAAgC6C,oBAAS,GAAzC,mBAAOC,EAAP,KAAiBC,EAAjB,KACA,EAA4BF,mBAAS7C,EAAMwB,QAA3C,mBAAOA,EAAP,KAAewB,EAAf,KAEAC,qBAAU,WACRD,EAAUhD,EAAMwB,UACf,CAACxB,EAAMwB,SAeV,OACE,sCACIsB,GACF,8BACE,sBAAMI,cAjBa,WACvBH,GAAY,IAgBR,SAAwC/C,EAAMwB,QAAU,gBAGzDsB,GACD,8BACE,uBAAOzG,KAAK,OACL8G,SAdU,SAACC,GACtBJ,EAAUI,EAAEC,OAAOC,QAcRC,OApBc,WACzBR,GAAY,GACZ/C,EAAMuB,aAAaC,IAmBRgC,WAAS,EACTF,MAAO9B,UCfPiC,EAfK,SAAC,GAAyC,IAAxCC,EAAuC,EAAvCA,YAAalC,EAA0B,EAA1BA,OAAQD,EAAkB,EAAlBA,aACzC,OAAKmC,EAKH,8BACE,sBAAKvB,UAAWwB,IAAOC,iBAAvB,UACE,4BAAG,qBAAKC,IAAKH,EAAYI,OAAOC,UAChC,cAAC,EAAD,CAAwBvC,OAAQA,EAAQD,aAAcA,SAPnD,cAACyC,EAAA,EAAD,K,wCCNLC,EAAW,WACXC,EAAmB,mBACnBC,EAAa,aACbC,EAAc,cAEdvI,EAAe,CACnBwI,MAAO,CACL,CAAEtI,GAAI,EAAGuI,QAAS,mBAAoBC,WAAY,IAClD,CAAExI,GAAI,EAAGuI,QAAS,qBAAuBC,WAAY,KAEvDb,YAAa,KACblC,OAAQ,IAyCJwB,EAAY,SAACxB,GAAD,MAAa,CAACnF,KAAM8H,EAAY3C,WAoBnCgD,EA1DQ,WAAmC,IAAlCjI,EAAiC,uDAAzBV,EAAcW,EAAW,uCACvD,OAAQA,EAAOH,MACb,KAAK4H,EACH,IAAMQ,EAAU,CACd1I,GAAI,EACJuI,QAAS9H,EAAOkI,YAChBH,WAAY,GAEd,OAAO,2BACFhI,GADL,IAEE8H,MAAM,GAAD,mBAAM9H,EAAM8H,OAAZ,CAAmBI,MAG5B,KAAKP,EACH,OAAO,2BACF3H,GADL,IAEEmH,YAAalH,EAAOkH,cAGxB,KAAKS,EACH,OAAO,2BACF5H,GADL,IAEEiF,OAAQhF,EAAOgF,SAGnB,KAAK4C,EACH,OAAO,2BACF7H,GADL,IAEE8H,MAAO9H,EAAM8H,MAAM/E,QAAO,SAAAqF,GAAC,OAAIA,EAAE5I,KAAOS,EAAOoI,YAGnD,QACE,OAAOrI,I,mCClCEsI,EAZF,SAAC7E,GACZ,OACE,sBAAKmC,UAAWC,IAAQpF,KAAxB,UACE,qBAAK6G,IAAI,wGACR7D,EAAMsE,QACP,8BACE,yCAAYtE,EAAMuE,oB,kCCDpBO,EAAcC,YAAU,IAkBxBC,EAAmBC,YAAU,CAACC,KAAM,qBAAjBD,EAhBF,SAACjF,GACtB,OACE,uBAAMmF,SAAUnF,EAAMoF,aAAtB,UACE,4BACI,cAACC,EAAA,EAAD,CAAOrJ,KAAK,cACLsJ,UAAWC,IACXC,YAAY,gJACZC,SAAU,CAACC,IAAUZ,OAEhC,4BACE,wBAAQzI,KAAK,SAAb,8BA2BOsJ,EAnBCzF,IAAM0F,MAAK,SAAC5F,GAC1B,IAAM6F,EAAgB7F,EAAM8F,UAAU/I,KAAI,SAAA8D,GAAI,OAAI,cAAC,EAAD,CAAMyD,QAASzD,EAAKyD,QAASC,WAAY1D,EAAK0D,YAAiB1D,EAAK9E,OAOtH,OACE,sBAAKoG,UAAWwB,IAAOoC,WAAvB,UACE,0CACA,cAACf,EAAD,CAAkBG,SARN,SAACa,GACfC,QAAQC,IAAIF,GACZhG,EAAMmG,QAAQH,EAAWtB,gBAOvB,qBAAKvC,UAAWwB,IAAOU,MAAvB,SACGwB,UCVMO,EAFUjG,aAfD,SAAC5D,GACvB,MAAO,CACLuJ,UAAWvJ,EAAM8J,YAAYhC,UAIN,SAAChG,GAC1B,MAAO,CACL8H,QAAS,SAACzB,GACR,IAAMlI,EH8BwB,SAACkI,GAAD,MAAkB,CAACrI,KAAM4H,EAAUS,eG9BlD4B,CAAqB5B,GACpCrG,EAAS7B,OAKU2D,CAA6CwF,GCfvDY,GATC,SAACvG,GACf,OACE,gCACE,cAAC,EAAD,CAAa0D,YAAa1D,EAAM0D,YAAalC,OAAQxB,EAAMwB,OAAQD,aAAcvB,EAAMuB,eACvF,cAAC,EAAD,Q,kBCAAiF,G,uKACJ,WACE,IAAIzI,EAASgC,KAAKC,MAAMyG,MAAMC,OAAO3I,OAChCA,IACHA,EAASgC,KAAKC,MAAM2G,mBAElB5G,KAAKC,MAAM4G,QAAQC,KAAK,UAG5B9G,KAAKC,MAAM8G,eAAe/I,GAC1BgC,KAAKC,MAAMsB,UAAUvD,K,oBAGvB,WACE,OACE,cAAC,GAAD,eAAagC,KAAKC,Y,GAfOE,IAAML,WA2BtBkH,gBACb5G,aARsB,SAAC5D,GAAD,MAAY,CAClCmH,YAAanH,EAAM8J,YAAY3C,YAC/BlC,OAAQjF,EAAM8J,YAAY7E,OAC1BmF,iBAAkBpK,EAAMoD,KAAK5B,OAC7B2B,OAAQnD,EAAMoD,KAAKD,UAIM,CAACoH,eLqBE,SAAC/I,GAAD,8CAAY,WAAOM,GAAP,eAAAC,EAAA,sEACrBC,IAAI8C,WAAWtD,GADM,OAClCU,EADkC,OAExCJ,EANmC,CAAChC,KAAM6H,EAAkBR,YAMpCjF,IAFgB,2CAAZ,uDKrBc6C,UL0BnB,SAACvD,GAAD,8CAAY,WAAOM,GAAP,eAAAC,EAAA,sEAChBC,IAAI+C,UAAUvD,GADE,OAC7BU,EAD6B,OAEnCJ,EAAS2E,EAAUvE,IAFgB,2CAAZ,uDK1B8B8C,aL+B3B,SAACC,GAAD,8CAAY,WAAOnD,GAAP,SAAAC,EAAA,sEACnBC,IAAIgD,aAAaC,GADE,OAEd,IAFc,OAE7B1C,YACPT,EAAS2E,EAAUxB,IAHiB,2CAAZ,yDK9B1BwF,IAFaD,CAIbP,I,6BCvBaS,GAbA,SAACjH,GACd,OACE,yBAAQmC,UAAWwB,KAAOuD,OAA1B,UACE,qBAAKrD,IAAI,gFAAgFsD,MAAM,SAC/F,qBAAKhF,UAAWwB,KAAOyD,WAAvB,SACGpH,EAAMN,OACH,8BAAIM,EAAMgB,MAAV,MAAmB,wBAAQ3E,KAAK,SAASgL,QAASrH,EAAMoB,OAArC,qBAAnB,OACA,cAAC,IAAD,CAAMe,UAAWwB,KAAO2D,UAAWrH,GAAI,SAAvC,yBCLNsH,G,4JACJ,WACE,OACE,cAAC,GAAD,eAAYxH,KAAKC,Y,GAHOE,IAAML,WAarBM,gBALS,SAAC5D,GAAD,MAAY,CAClCmD,OAAQnD,EAAMoD,KAAKD,OACnBsB,MAAOzE,EAAMoD,KAAKqB,SAGoB,CAACI,aAA1BjB,CAAmCoH,IChB5CC,GAAsB,sBAEtB3L,GAAe,CACnB4L,aAAa,GAuBAC,GApBI,WAAmC,IAAlCnL,EAAiC,uDAAzBV,GAAcW,EAAW,uCACnD,OAAQA,EAAOH,MACb,KAAKmL,GACH,OAAO,2BACFjL,GADL,IAEEkL,aAAa,IAGjB,QACE,OAAOlL,I,wCCRPoL,GAAWC,aAAgB,CAC/BvB,YAAa7B,EACbqD,YAAavL,KACbwL,UAAW1I,KACXO,KAAMoI,KACNC,IAAKN,GACLxC,KAAM+C,OAGFC,GAAmBC,OAAOC,sCAAwCrB,KAIzDsB,GAHDC,aAAYX,GAAUO,GAAiBK,aAAgBC,QCF/DC,GAAmBvI,IAAMwI,MAAK,kBAAM,iCACpCC,GAAiBzI,IAAMwI,MAAK,kBAAM,iCAClCE,GAAQ1I,IAAMwI,MAAK,kBAAM,iCAEzBG,G,uKACJ,WACE9I,KAAKC,MAAM8I,kB,oBAGb,WACE,OAAK/I,KAAKC,MAAMyH,YAKd,sBAAKtF,UAAU,cAAf,UACE,cAAC,GAAD,IACA,cAAC,EAAD,IACA,qBAAKA,UAAU,sBAAf,SACE,cAAC,IAAM4G,SAAP,CAAgBC,SAAU,cAAChF,EAAA,EAAD,IAA1B,SACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOiF,KAAK,oBACLC,OAAQ,kBAAM,cAAC,GAAD,OACrB,cAAC,IAAD,CAAOD,KAAK,WACLC,OAAQ,kBAAM,cAACT,GAAD,OACrB,cAAC,IAAD,CAAOQ,KAAK,SACLC,OAAQ,kBAAM,cAACP,GAAD,OACrB,cAAC,IAAD,CAAOM,KAAK,QAAQ3D,UAAW7C,IAC/B,cAAC,IAAD,CAAOwG,KAAK,SAAS3D,UAAW5C,IAChC,cAAC,IAAD,CAAOuG,KAAK,YAAY3D,UAAW3C,IACnC,cAAC,IAAD,CAAOsG,KAAK,SAAS3D,UAAWsD,KAChC,cAAC,IAAD,CAAUO,KAAK,IAAIlJ,GAAG,uBApBvB,cAAC+D,EAAA,EAAD,Q,GAPK9D,IAAML,WAwClBuJ,GAAejJ,aAJG,SAAC5D,GAAD,MAAY,CAClCkL,YAAalL,EAAMyL,IAAIP,eAGqB,CAACqB,cFtClB,yDAAM,WAAOzK,GAAP,SAAAC,EAAA,sEAC3BD,EAASgL,gBADkB,OAEjChL,EAJgC,CAAChC,KAAMmL,KAEN,2CAAN,wDEsCRrH,CAA0C0I,IAYhDS,GAVM,WACnB,OACE,cAAC,IAAD,UACE,cAAC,IAAD,CAAUjB,MAAOA,GAAjB,SACE,cAACe,GAAD,SCrDRG,IAASL,OACP,cAAC,IAAMM,WAAP,UACE,cAAC,GAAD,MAEFC,SAASC,eAAe,SAM1BhI,K,yLCrBMiI,EAAqB,0CAErB9N,EAAe,CACnBkC,OAAQ,KACRiD,MAAO,KACPC,MAAO,KACPvB,QAAQ,GAgBJkK,EAAkB,SAAC7L,EAAQiD,EAAOC,EAAOvB,GAAvB,MAAmC,CAACrD,KAAMsN,EAAoBE,QAAS,CAAC9L,SAAQiD,QAAOC,QAAOvB,YAEzG2J,EAAkB,yDAAM,WAAOhL,GAAP,uBAAAC,EAAA,sEAChBC,IAAIwC,KADY,OAEX,KADlBtC,EAD6B,QAE1BK,aAAmB,EACCL,EAAKA,KAAzB1C,EADkB,EAClBA,GAAIiF,EADc,EACdA,MAAOC,EADO,EACPA,MAClB5C,EAASuL,EAAgB7N,EAAIiF,EAAOC,GAAO,KAJV,2CAAN,uDAQlBD,EAAQ,SAACC,EAAOC,EAAUC,GAAlB,8CAAiC,WAAO9C,GAAP,mBAAAC,EAAA,sEACjCC,IAAIyC,MAAMC,EAAOC,EAAUC,GADM,OAE5B,KADlB1C,EAD8C,QAE3CK,WACPT,EAASgL,MAEH/E,EAAU7F,EAAKxC,SAAS6N,OAAS,EAAIrL,EAAKxC,SAAS,GAAK,aACxDO,EAASuN,YAAW,QAAS,CAACC,OAAQ1F,IAC5CjG,EAAS7B,IAPyC,2CAAjC,uDAWR4E,EAAS,yDAAM,WAAO/C,GAAP,SAAAC,EAAA,sEACPC,IAAI6C,SADG,OAEF,IAFE,OAEjBtC,YACPT,EAASuL,EAAgB,KAAM,KAAM,MAAM,IAHnB,2CAAN,uDAOP7B,IAzCK,WAAmC,IAAlCxL,EAAiC,uDAAzBV,EAAcW,EAAW,uCACpD,OAAQA,EAAOH,MACb,KAAKsN,EACH,OAAO,2BACFpN,GACAC,EAAOqN,SAGd,QACE,OAAOtN,K,oCCrBT0N,E,wBAEAC,EAAY,CAAC,QAAS,WAE1B,SAASC,IAA2Q,OAA9PA,EAAWC,OAAOC,QAAU,SAAUhH,GAAU,IAAK,IAAIiH,EAAI,EAAGA,EAAIC,UAAUT,OAAQQ,IAAK,CAAE,IAAIE,EAASD,UAAUD,GAAI,IAAK,IAAIG,KAAOD,EAAcJ,OAAOM,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQpH,EAAOoH,GAAOD,EAAOC,IAAY,OAAOpH,IAA2BwH,MAAM9K,KAAMwK,WAEhT,SAASO,EAAyBN,EAAQO,GAAY,GAAc,MAAVP,EAAgB,MAAO,GAAI,IAAkEC,EAAKH,EAAnEjH,EAEzF,SAAuCmH,EAAQO,GAAY,GAAc,MAAVP,EAAgB,MAAO,GAAI,IAA2DC,EAAKH,EAA5DjH,EAAS,GAAQ2H,EAAaZ,OAAOa,KAAKT,GAAqB,IAAKF,EAAI,EAAGA,EAAIU,EAAWlB,OAAQQ,IAAOG,EAAMO,EAAWV,GAAQS,EAASG,QAAQT,IAAQ,IAAapH,EAAOoH,GAAOD,EAAOC,IAAQ,OAAOpH,EAFxM8H,CAA8BX,EAAQO,GAAuB,GAAIX,OAAOgB,sBAAuB,CAAE,IAAIC,EAAmBjB,OAAOgB,sBAAsBZ,GAAS,IAAKF,EAAI,EAAGA,EAAIe,EAAiBvB,OAAQQ,IAAOG,EAAMY,EAAiBf,GAAQS,EAASG,QAAQT,IAAQ,GAAkBL,OAAOM,UAAUY,qBAAqBV,KAAKJ,EAAQC,KAAgBpH,EAAOoH,GAAOD,EAAOC,IAAU,OAAOpH,EAMne,SAASkI,EAAaC,EAAMC,GAC1B,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACf3L,EAAQ8K,EAAyBU,EAAMtB,GAE3C,OAAoB,gBAAoB,MAAOC,EAAS,CACtDpO,GAAI,KACJ6P,MAAO,6BACPC,WAAY,+BACZC,EAAG,MACHC,EAAG,MACHC,QAAS,cACTC,iBAAkB,cAClBC,SAAU,WACVC,IAAKV,EACL,kBAAmBE,GAClB3L,GAAQ0L,EAAqB,gBAAoB,QAAS,CAC3D3P,GAAI4P,GACHD,GAAS,KAAMzB,IAAUA,EAAqB,gBAAoB,OAAQ,CAC3EmC,KAAM,OACNC,EAAG,kGACW,gBAAoB,mBAAoB,CACtDC,cAAe,YACfC,cAAe,MACflQ,KAAM,SACNmQ,IAAK,KACLrD,KAAM,UACNlJ,GAAI,YACJwM,YAAa,kBAIjB,IAAIC,EAA0B,aAAiBnB,G,GAChC,I,MCjCAvH,IARG,WAChB,OACE,qBAAK7B,UAAWwB,IAAOgJ,QAAvB,SACE,cAAC,EAAD,CAAgBxK,UAAWwB,IAAOiJ,gB,mBCNxCrN,EAAOC,QAAU,CAAC,MAAQ,4BAA4B,MAAQ,4BAA4B,aAAe,mCAAmC,YAAc,oC,mBCA1JD,EAAOC,QAAU,CAAC,OAAS,uBAAuB,WAAa,2BAA2B,UAAY,4B,gCCDtG,oEAAO,IAAMkG,EAAW,SAACpC,GACvB,IAAKA,EACH,MAAO,+FAKEyB,EAAY,SAAC8H,GAAD,OAAS,SAACvJ,GACjC,GAAIA,GAASA,EAAMwG,OAAS+C,EAC1B,MAAM,sGAAN,OAA6BA,EAA7B,wD,mBCRJtN,EAAOC,QAAU,CAAC,QAAU,2BAA2B,UAAY,+B,mBCAnED,EAAOC,QAAU,CAAC,WAAa,4BAA4B,MAAQ,yB,mKCCtDsN,EAAc,SAACC,GAAD,OAAe,YAAmF,IAAjFC,EAAgF,EAAhFA,MAAgF,IAAzEC,KAAOC,EAAkE,EAAlEA,MAAOC,EAA2D,EAA3DA,QAAgDnN,GAAW,EAAlDoN,WAAkD,EAAtCC,aAAsC,EAAxBC,QAAwB,kBACpHC,EAAWJ,GAAWD,EAC5B,OACE,8BACE,oBAAG/K,UAAWwB,IAAO6J,MAArB,UACE,cAACT,EAAD,yBAAW5K,UAAWoL,EAAW5J,IAAOuJ,MAAQ,IAAQF,GAAWhN,IAClEuN,GACC,uBAAMpL,UAAWwB,IAAO8J,aAAxB,iBAA6CP,YAM1CQ,EAAQZ,EAAY,SAEpBvH,EAAWuH,EAAY,c","file":"static/js/main.c11e220f.chunk.js","sourcesContent":["const SEND_NEW_MESSAGE = 'SEND-NEW-MESSAGE'; // SEND_MESSAGE\n\nconst initialState = {\n  dialogs: [\n    { id: 1, name: 'Dimych' },\n    { id: 2, name: 'Andrey' },\n    { id: 3, name: 'Sveta' },\n    { id: 4, name: 'Sasha' },\n    { id: 5, name: 'Viktor' },\n    { id: 6, name: 'Valera' },\n  ],\n  messages: [\n    { id: 1, text: 'Hi'},\n    { id: 2, text: 'How is your Yo?'},\n    { id: 3, text: 'Yo!'},\n    { id: 4, text: 'Yo!'},\n    { id: 5, text: 'Yo!'},\n  ]\n};\n\nconst dialogsReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case SEND_NEW_MESSAGE:\n      const newMessage = {\n        id: 6,\n        text: action.newMessageText,\n      };\n      return  {\n        ...state,\n        messages: [...state.messages, newMessage]\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport const sendNewMessageActionCreator = (newMessageText) => ({type: SEND_NEW_MESSAGE, newMessageText}); // sendMessageCreator\n\nexport default dialogsReducer;\n","export const updateObjectInArray = (items, propValue, objPropName, newObjProps) => {\n  return items.map((item) => {\n    if (item[objPropName] === propValue) {\n      return {...item, ...newObjProps};\n    }\n    return item;\n  })\n};\n","import {api} from \"../api/api\";\nimport {updateObjectInArray} from \"../utils/object-helpers\";\n\nconst FOLLOW = 'FOLLOW';\nconst UNFOLLOW = 'UNFOLLOW';\nconst SET_USERS = 'SET-USERS';\nconst SET_CURRENT_PAGE = 'SET-CURRENT-PAGE';\nconst SET_TOTAL_USERS_COUNT = 'SET-TOTAL-USERS-COUNT';\nconst TOGGLE_IS_FETCHING = 'TOGGLE-IS-FETCHING';\nconst TOGGLE_FOLLOWING_PROGRESS = 'TOGGLE-FOLLOWING-PROGRESS';\n\nconst initialState = {\n  users: [],\n  pageSize: 5,\n  totalUsersCount: 0,\n  currentPage: 1,\n  isFetching: false,\n  followingInProgress: []\n};\n\nconst usersReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case 'FAKE': {        // TODO для понимания reselect, удалить потом\n      return {...state};\n    }\n\n    case FOLLOW: // TODO нужен переключатель, тогл, а не этот бред\n      return {\n        ...state,\n        users: updateObjectInArray(state.users, action.userId, 'id', {followed: true})\n      };\n\n    case UNFOLLOW:\n      return {\n        ...state,\n        users: updateObjectInArray(state.users, action.userId, 'id', {followed: false})\n      };\n\n    case SET_USERS:\n      return {\n        ...state,\n        users: action.users\n      };\n\n    case SET_CURRENT_PAGE:\n      return {\n        ...state,\n        currentPage: action.currentPage\n      };\n\n    case SET_TOTAL_USERS_COUNT:\n      return {\n        ...state,\n        totalUsersCount: action.totalUsersCount\n      };\n\n    case TOGGLE_IS_FETCHING:\n      return {\n        ...state,\n        isFetching: action.isFetching\n      };\n\n      case TOGGLE_FOLLOWING_PROGRESS:\n      return {\n        ...state,\n        followingInProgress: action.isFetching\n          ? [...state.followingInProgress, action.userId]\n          : state.followingInProgress.filter(id => id !== action.userId)\n      };\n\n    default:\n      return state;\n  }\n};\n\nconst followSuccess = (userId) => ({type: FOLLOW, userId});\nconst unfollowSuccess = (userId) => ({type: UNFOLLOW, userId});\nconst setUsers = (users) => ({type: SET_USERS, users});\nconst setCurrentPage = (currentPage) => ({type: SET_CURRENT_PAGE, currentPage});\nconst setTotalUsersCount = (totalUsersCount) => ({type: SET_TOTAL_USERS_COUNT, totalUsersCount});\nconst toggleIsFetching = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching});\nconst toggleFollowingProgress = (isFetching, userId) => ({type: TOGGLE_FOLLOWING_PROGRESS, isFetching, userId});\n\nexport const requestUsers = (page, pageSize) => {   // thunk creator принимает в параметры нужные данные и возращает thunk, которая через замыкание может достучаться к этим данным\n  return async (dispatch) => {\n    dispatch(toggleIsFetching(true));\n    dispatch(setCurrentPage(page));\n\n    const data = await api.getUsers(page, pageSize);\n    dispatch(setUsers(data.items));\n    dispatch(setTotalUsersCount(data.totalCount));\n    dispatch(toggleIsFetching(false));\n  };\n};\n\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\n  dispatch(toggleFollowingProgress(true, userId)); // TODO мб поменять порядок параметров\n  const data = await apiMethod(userId);\n\n  if (data.resultCode === 0) {\n    dispatch(actionCreator(userId));\n  }\n  dispatch(toggleFollowingProgress(false, userId));\n};\n\nexport const follow = (userId) => {\n  return async (dispatch) => {\n    let apiMethod = api.followUser.bind(api);\n    followUnfollowFlow(dispatch, userId, apiMethod, followSuccess);\n  };\n};\n\nexport const unfollow = (userId) => {\n  return async (dispatch) => {\n    let apiMethod = api.unFollowUser.bind(api);\n    followUnfollowFlow(dispatch,userId, apiMethod, unfollowSuccess);\n  };\n};\n\nexport default usersReducer;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"descriptionBlock\":\"ProfileInfo_descriptionBlock__3cd8Y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__ihtu9\"};","import React from 'react';\nimport {Redirect} from \"react-router-dom\";\nimport {connect} from \"react-redux\";\n\nconst mapStateToPropsRedirect = (state) => ({\n  isAuth: state.auth.isAuth\n});\n\nexport const withAuthRedirect = (Component) => {\n  class RedirectComponent extends React.Component {\n    render() {\n      if (!this.props.isAuth) return <Redirect to=\"/login\" />;\n      return <Component {...this.props} />\n    }\n  }\n\n  const ConnectedRedirectComponent = connect(mapStateToPropsRedirect)(RedirectComponent);\n\n  return ConnectedRedirectComponent;\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__2imOE\",\"navList\":\"Navbar_navList__1GFvw\",\"item\":\"Navbar_item__zmMk4\",\"activeLink\":\"Navbar_activeLink__3etBE\"};","import axios from \"axios\";\n\nconst axiosInstance = axios.create({\n  baseURL: 'https://social-network.samuraijs.com/api/1.0/',\n  withCredentials: true,\n  headers: {\n    'API-KEY': 'f6c84f1f-526b-455b-b54c-ae0f09e46ef0'\n  }\n});\n\nexport const api = {\n  getUsers(currentPage, pageSize) {\n    return axiosInstance\n      .get(`users?page=${currentPage}&count=${pageSize}`)\n      .then(response => response.data);\n  },\n\n  followUser(userId) {\n    return axiosInstance\n      .post(`follow/${userId}`)\n      .then(response => response.data);\n  },\n  unFollowUser(userId) {\n    return axiosInstance\n      .delete(`follow/${userId}`)\n      .then(response => response.data);\n  },\n\n  me() {\n    return axiosInstance\n      .get('auth/me')\n      .then(response => response.data);\n  },\n  login(email, password, rememberMe = false) {\n    return axiosInstance\n      .post('/auth/login', {email, password, rememberMe})\n      .then(response => response.data);\n  },\n  logout() {\n    return axiosInstance\n      .delete('/auth/login')\n      .then(response => response.data);\n  },\n\n  getProfile(userId) {\n    return axiosInstance\n      .get(`profile/${userId}`)\n      .then(response => response.data);\n  },\n  getStatus(userId) {\n    return axiosInstance\n      .get(`/profile/status/${userId}`)\n      .then(response => response.data);\n  },\n  updateStatus(status) {\n    return axiosInstance\n      .put('/profile/status', {status: status})\n      .then(response => response.data);\n  }\n};\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import classes from './Navbar.module.css';\nimport {NavLink} from \"react-router-dom\";\n\nconst Navbar = () => {\n  return (\n    <nav className={classes.nav}>\n      <ul className={classes.navList}>\n        <li className={classes.item}>\n          <NavLink to=\"/profile\" activeClassName={classes.activeLink}>Profile</NavLink>\n        </li>\n        <li className={classes.item}>\n          <NavLink to=\"/dialogs\" activeClassName={classes.activeLink}>Messages</NavLink>\n        </li>\n        <li className={classes.item}>\n          <NavLink to=\"/users\" activeClassName={classes.activeLink}>Users</NavLink>\n        </li>\n        <li className={classes.item}>\n          <NavLink to=\"/news\" activeClassName={classes.activeLink}>News</NavLink>\n        </li>\n        <li className={classes.item}>\n          <NavLink to=\"/music\" activeClassName={classes.activeLink}>Music</NavLink>\n        </li>\n        <li className={classes.item}>\n          <NavLink to=\"/settings\" activeClassName={classes.activeLink}>Settings</NavLink>\n        </li>\n      </ul>\n    </nav>\n  );\n};\n\nexport default Navbar;\n","import classes from \"./News.module.css\";\n\nconst News = (props) => {\n  return (\n    <div>\n      News\n    </div>\n  );\n};\n\nexport default News;\n","import classes from \"./Music.module.css\";\n\nconst Music = (props) => {\n  return (\n    <div>\n      Music\n    </div>\n  );\n};\n\nexport default Music;\n","import classes from \"./Settings.module.css\";\n\nconst Settings = (props) => {\n  return (\n    <div>\n      Settings\n    </div>\n  );\n};\n\nexport default Settings;\n","import React from 'react';\n\nclass ProfileStatus extends React.Component {\n  state = {\n    editMode: false,\n    status: this.props.status\n  };\n\n  activateEditMode = () => {\n    this.setState({\n      editMode: true\n    });\n  }\n\n  deactivateEditMode = () => {\n    this.setState({\n      editMode: false\n    });\n    this.props.updateStatus(this.state.status);\n  }\n\n  onStatusChange = (e) => {\n    this.setState({\n      status: e.target.value\n    });\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    if (prevProps.status !== this.props.status) {\n      this.setState({\n        status: this.props.status\n      });\n    }\n  }\n\n  render() {\n    return (\n      <>\n        {!this.state.editMode &&\n        <div>\n          <span onDoubleClick={this.activateEditMode}>{this.props.status || 'no status'}</span>\n        </div>\n        }\n        {this.state.editMode &&\n        <div>\n          <input type=\"text\"\n                 onChange={this.onStatusChange}\n                 onBlur={this.deactivateEditMode}\n                 autoFocus\n                 value={this.state.status} />\n        </div>\n        }\n      </>\n    );\n  }\n}\n\nexport default ProfileStatus;\n","import {useEffect, useState} from 'react';\n\nconst ProfileStatusWithHooks = (props) => {\n  const [editMode, setEditMode] = useState(false);\n  const [status, setStatus] = useState(props.status);\n\n  useEffect(() => {\n    setStatus(props.status);\n  }, [props.status]);\n\n  const activateEditMode = () => {\n    setEditMode(true);\n  };\n\n  const deactivateEditMode = () => {\n    setEditMode(false);\n    props.updateStatus(status);\n  }\n\n  const onStatusChange = (e) => {\n    setStatus(e.target.value);\n  }\n\n  return (\n    <>\n      {!editMode &&\n      <div>\n        <span onDoubleClick={activateEditMode}>{props.status || 'no status'}</span>\n      </div>\n      }\n      {editMode &&\n      <div>\n        <input type=\"text\"\n               onChange={onStatusChange}\n               onBlur={deactivateEditMode}\n               autoFocus\n               value={status} />\n      </div>\n      }\n    </>\n  );\n\n}\n\nexport default ProfileStatusWithHooks;\n","import styles from './ProfileInfo.module.css';\nimport Preloader from '../../common/Preloader/Preloader';\nimport ProfileStatus from './ProfileStatus/ProfileStatus';\nimport ProfileStatusWithHooks from \"./ProfileStatus/ProfileStatusWithHooks\";\n\n\nconst ProfileInfo = ({userProfile, status, updateStatus}) => {\n  if (!userProfile) {\n    return <Preloader />\n  }\n// TODO добавить больше инфы\n  return (\n    <div>\n      <div className={styles.descriptionBlock}>\n        <p><img src={userProfile.photos.large} /></p>\n        <ProfileStatusWithHooks status={status} updateStatus={updateStatus} />\n      </div>\n    </div>\n  );\n};\n\nexport default ProfileInfo;\n","import {api} from \"../api/api\";\n\nconst ADD_POST = 'ADD-POST';\nconst SET_USER_PROFILE = 'SET-USER-PROFILE';\nconst SET_STATUS = 'SET-STATUS';\nconst DELETE_POST = 'DELETE-POST';\n\nconst initialState = {\n  posts: [\n    { id: 1, message: 'Hi, how are you?', likesCount: 15 },\n    { id: 2, message: 'It\\'s my first post', likesCount: 20 },\n  ],\n  userProfile: null, // may be profile\n  status: ''\n};\n\nconst profileReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case ADD_POST: // TODO наверно лучше сразу копировать весь стейт\n      const newPost = {\n        id: 5,\n        message: action.newPostText,\n        likesCount: 0,\n      };\n      return {\n        ...state,\n        posts: [...state.posts, newPost]\n      };\n\n    case SET_USER_PROFILE:\n      return {\n        ...state,\n        userProfile: action.userProfile\n      };\n\n    case SET_STATUS:\n      return {\n        ...state,\n        status: action.status\n      };\n\n    case DELETE_POST:\n      return {\n        ...state,\n        posts: state.posts.filter(p => p.id !== action.postId)\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport const addPostActionCreator = (newPostText) => ({type: ADD_POST, newPostText});\nconst setUserProfile = (profile) => ({type: SET_USER_PROFILE, userProfile: profile});\nconst setStatus = (status) => ({type: SET_STATUS, status});\nexport const deletePost = (postId) => ({type: DELETE_POST, postId});\n\nexport const getUserProfile = (userId) => async (dispatch) => {\n  const data = await api.getProfile(userId);\n  dispatch(setUserProfile(data));\n};\n\nexport const getStatus = (userId) => async (dispatch) => {\n  const data = await api.getStatus(userId);\n  dispatch(setStatus(data));\n};\n\nexport const updateStatus = (status) => async (dispatch) => {\n  const data = await api.updateStatus(status);\n  if (data.resultCode === 0) {\n    dispatch(setStatus(status));\n  }\n};\n\nexport default profileReducer;\n","import classes from './Post.module.css';\n\nconst Post = (props) => {\n  return (\n    <div className={classes.item}>\n      <img src=\"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcThIRZXYvGCN_04MZEpnTlOAhtRMU9iXOlQoQ&usqp=CAU\" />\n      {props.message}\n      <div>\n        <span>like {props.likesCount}</span>\n      </div>\n    </div>\n  );\n};\n\nexport default Post;\n","import styles from './MyPosts.module.css';\nimport Post from \"./Post/Post\";\nimport React from \"react\";\nimport {Field, reduxForm} from \"redux-form\";\nimport {maxLength, required} from \"../../../utils/validators/validators\";\nimport {TextArea} from \"../../common/CustomFields/CustomFields\";\n\nconst maxLength10 = maxLength(10);\n\nconst AddNewPostForm = (props) => {\n  return (\n    <form onSubmit={props.handleSubmit}>\n      <p>\n          <Field name=\"newPostText\"\n                 component={TextArea}\n                 placeholder=\"Введите текст нового поста\"\n                 validate={[required, maxLength10]} />\n      </p>\n      <p>\n        <button type=\"submit\">Add post</button>\n      </p>\n    </form>\n  );\n};\n\nconst AddPostReduxForm = reduxForm({form: 'profileAddNewPost'})(AddNewPostForm);\n\nconst MyPosts = React.memo((props) => {\n  const postsElements = props.postsData.map(post => <Post message={post.message} likesCount={post.likesCount} key={post.id} />);\n\n  const addPost = (formValues) => {\n    console.log(formValues);\n    props.addPost(formValues.newPostText);\n  };\n\n  return (\n    <div className={styles.postsBlock}>\n      <h3>My posts</h3>\n      <AddPostReduxForm onSubmit={addPost} />\n      <div className={styles.posts}>\n        {postsElements}\n      </div>\n    </div>\n  );\n});\n\nexport default MyPosts;\n","//КОнтейнерная компонента. Идея её просто быть обёрткой для какой-то обычной компоненты, чистой компоненты функциональной, презентационной. Удовлетворить нужды той компоненты, подготовить для неё данные, колбеки. Не имеет своего вида.\n// Можем теперь основную (презентационную компоненту) переиспользовать где-то. Независя от редакса или других стейт менеджеров. Не привязана ни к какой технологии типа редакс. Она чистенькая, получает данные на входе и возвращает фиксироавнную разметку на выходе и вызывает какие-то колбеки, которые в пропсах приходят\n// Что произойдёт, когда она вызовет колбеки, она понятия не имеет\n// Одно работает с данными, другое с отображением\n// Разделяем логику работы с данными и логику по отображению\n//\n// Контейнерная компонента создаётся для того, чтобы функциональная могла остаться функциональной: чистой и простой!\n// Функциональной компоненте нужны данные! Вот контейнерная и даст ей их, взяв всю грязную работу на себя!\nimport React from \"react\";\nimport {addPostActionCreator} from \"../../../redux/profile-reducer\";\nimport MyPosts from \"./MyPosts\";\nimport {connect} from \"react-redux\";\n\nconst mapStateToProps = (state) => {\n  return {\n    postsData: state.profilePage.posts\n  }\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    addPost: (newPostText) => {\n      const action = addPostActionCreator(newPostText);\n      dispatch(action);\n    }\n  };\n};\n\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts);\n\nexport default MyPostsContainer;\n","import classes from './Profile.module.css'; // TODO переименовать стили в styles\nimport ProfileInfo from \"./ProfileInfo/ProfileInfo\";\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\";\n\nconst Profile = (props) => {\n  return (\n    <div>\n      <ProfileInfo userProfile={props.userProfile} status={props.status} updateStatus={props.updateStatus} />\n      <MyPostsContainer />\n    </div>\n  );\n};\n\nexport default Profile;\n","import React from 'react';\nimport {connect} from \"react-redux\";\nimport Profile from \"./Profile\";\nimport {getStatus, getUserProfile, updateStatus} from \"../../redux/profile-reducer\";\nimport {withRouter} from \"react-router-dom\";\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\nimport {compose} from \"redux\";\n\nclass ProfileContainer extends React.Component {\n  componentDidMount() {\n    let userId = this.props.match.params.userId;\n    if (!userId) {\n      userId = this.props.authorizedUserId;\n      if (!userId) {\n        this.props.history.push('/login');\n      }\n    }\n    this.props.getUserProfile(userId);\n    this.props.getStatus(userId);\n  }\n\n  render() {\n    return (\n      <Profile {...this.props} /> // TODO идёт передача всех пропсов, мб надо убрать лишние типа экшкреэйтера '{userProfile: {…}'\n    )\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  userProfile: state.profilePage.userProfile,\n  status: state.profilePage.status,\n  authorizedUserId: state.auth.userId,\n  isAuth: state.auth.isAuth // TODO не используется\n});\n\nexport default compose(\n  connect(mapStateToProps, {getUserProfile, getStatus, updateStatus}),\n  withRouter,\n  // withAuthRedirect\n)(ProfileContainer);\n","import styles from \"./Header.module.css\";\nimport {Link} from \"react-router-dom\";\n\nconst Header = (props) => {\n  return (\n    <header className={styles.header}>\n      <img src=\"https://www.vhv.rs/dpng/d/573-5732595_logo-maker-shop-make-your-logo-in-5.png\" width=\"50px\" />\n      <div className={styles.loginBlock}>\n        {props.isAuth\n          ? <p>{props.login} - <button type=\"button\" onClick={props.logout}>Log out</button> </p>\n          : <Link className={styles.loginLink} to={\"/login\"}>Login</Link>}\n      </div>\n    </header>\n  );\n};\n\nexport default Header;\n","import React from 'react';\nimport {connect} from \"react-redux\";\nimport {logout} from \"../../redux/auth-reducer\";\nimport Header from \"./Header\";\n\nclass HeaderContainer extends React.Component {\n  render() {\n    return (\n      <Header {...this.props} /> // TODO не все пропсы нужны в этом компоненте\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  isAuth: state.auth.isAuth,\n  login: state.auth.login\n});\n\nexport default connect(mapStateToProps, {logout})(HeaderContainer);\n","import {getAuthUserData} from \"./auth-reducer\";\n\nconst INITIALIZED_SUCCESS = 'INITIALIZED-SUCCESS';\n\nconst initialState = {\n  initialized: false\n};\n\nconst appReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case INITIALIZED_SUCCESS:\n      return {\n        ...state,\n        initialized: true\n      };\n\n    default:\n      return state;\n  }\n};\n\nconst initializedSuccess = () => ({type: INITIALIZED_SUCCESS});\n\nexport const initializeApp = () => async (dispatch) => {\n  await dispatch(getAuthUserData());\n  dispatch(initializedSuccess());\n};\n\nexport default appReducer;\n","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\nimport profileReducer from \"./profile-reducer\";\nimport dialogsReducer from \"./dialogs-reducer\";\nimport usersReducer from \"./users-reducer\";\nimport authReducer from \"./auth-reducer\";\nimport thunkMiddleware from \"redux-thunk\";\nimport { reducer as formReducer } from 'redux-form'\nimport appReducer from \"./app-reducer\";\n\nconst reducers = combineReducers({\n  profilePage: profileReducer,\n  dialogsPage: dialogsReducer,\n  usersPage: usersReducer,\n  auth: authReducer,\n  app: appReducer,\n  form: formReducer\n});\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\n// const store = createStore(reducers, applyMiddleware(thunkMiddleware));\n\nexport default store;\n\n// window.store = store; // TODO for debug, delete this\n","import React from \"react\";\nimport {Switch, Route, Redirect, BrowserRouter} from \"react-router-dom\";\nimport './App.css';\nimport Navbar from \"./components/Navbar/Navbar\";\n// import DialogsContainer from \"./components/Dialogs/DialogsContainer\";\nimport News from \"./components/News/News\";\nimport Music from \"./components/Music/Music\";\nimport Settings from \"./components/Settings/Settings\";\n// import UsersContainer from \"./components/Users/UsersContainer\";\nimport ProfileContainer from \"./components/Profile/ProfileContainer\";\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\n// import Login from \"./components/Login/Login\";\nimport {connect, Provider} from \"react-redux\";\nimport {initializeApp} from \"./redux/app-reducer\";\nimport Preloader from \"./components/common/Preloader/Preloader\";\nimport store from './redux/redux-store';\n\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'));\nconst UsersContainer = React.lazy(() => import('./components/Users/UsersContainer'));\nconst Login = React.lazy(() => import('./components/Login/Login'));\n\nclass App extends React.Component {\n  componentDidMount() {\n    this.props.initializeApp();\n  }\n\n  render() {\n    if (!this.props.initialized) {\n      return <Preloader />\n    }\n\n    return (\n      <div className=\"app-wrapper\">\n        <HeaderContainer/>\n        <Navbar/>\n        <div className=\"app-wrapper-content\">\n          <React.Suspense fallback={<Preloader />}>\n            <Switch>\n              <Route path=\"/profile/:userId?\"\n                     render={() => <ProfileContainer/>}/>\n              <Route path=\"/dialogs\"\n                     render={() => <DialogsContainer/>}/>\n              <Route path=\"/users\"\n                     render={() => <UsersContainer/>}/>\n              <Route path=\"/news\" component={News}/>\n              <Route path=\"/music\" component={Music}/>\n              <Route path=\"/settings\" component={Settings}/>\n              <Route path=\"/login\" component={Login}/>\n              <Redirect from=\"/\" to=\"/profile\"/>\n            </Switch>\n          </React.Suspense>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  initialized: state.app.initialized\n});\n\nconst AppContainer = connect(mapStateToProps, {initializeApp})(App);\n\nconst SamuraiJsApp = () => {\n  return (\n    <BrowserRouter>\n      <Provider store={store}>\n        <AppContainer />\n      </Provider>\n    </BrowserRouter>\n  );\n};\n\nexport default SamuraiJsApp;\n","// React(UI), Redux(BLL), Redux Thunk, CSS Modules, axios, react-router-dom(Switch, Route, NavLink, Link, withRouter, Redirect), Redux Form, selectors, reselect\nimport reportWebVitals from './reportWebVitals';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport SamuraiJsApp from './App';\n// import {BrowserRouter} from \"react-router-dom\";\n// import store from './redux/redux-store';\n// import {Provider} from \"react-redux\";\n\n// setInterval(() => {\n//   store.dispatch({type: 'FAKE'}); // TODO для понимания reselect, удалить потом\n// }, 1000);\n\nReactDOM.render(\n  <React.StrictMode>\n    <SamuraiJsApp />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","import {api} from \"../api/api\";\nimport {stopSubmit} from \"redux-form\";\n\nconst SET_AUTH_USER_DATA = 'samurai-network/auth/SET-AUTH-USER-DATA';\n\nconst initialState = {\n  userId: null,\n  login: null,\n  email: null,\n  isAuth: false\n};\n\nconst authReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case SET_AUTH_USER_DATA:\n      return {\n        ...state,\n        ...action.payload\n      };\n\n    default:\n      return state;\n  }\n};\n\nconst setAuthUserData = (userId, login, email, isAuth) => ({type: SET_AUTH_USER_DATA, payload: {userId, login, email, isAuth}});\n\nexport const getAuthUserData = () => async (dispatch) => {\n  const data = await api.me();\n  if (data.resultCode === 0) {\n    const {id, login, email} = data.data;\n    dispatch(setAuthUserData(id, login, email, true)); // TODO можно еще профиль залогиненного юзера загрузить и отобразить что-нибудь напр аватар\n  }\n};\n\nexport const login = (email, password, rememberMe) => async (dispatch) => {\n  const data = await api.login(email, password, rememberMe);\n  if (data.resultCode === 0) {\n    dispatch(getAuthUserData());\n  } else {\n    const message = data.messages.length > 0 ? data.messages[0] : 'Some error';\n    const action = stopSubmit('login', {_error: message});\n    dispatch(action);\n  }\n};\n\nexport const logout = () => async (dispatch) => {\n  const data = await api.logout();\n  if (data.resultCode === 0) {\n    dispatch(setAuthUserData(null, null, null, false));\n  }\n};\n\nexport default authReducer;\n","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgPreloader(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"L9\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 100 100\",\n    enableBackground: \"new 0 0 0 0\",\n    xmlSpace: \"preserve\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#fff\",\n    d: \"M73,50c0-12.7-10.3-23-23-23S27,37.3,27,50 M30.9,50c0-10.5,8.5-19.1,19.1-19.1S69.1,39.5,69.1,50\"\n  }, /*#__PURE__*/React.createElement(\"animateTransform\", {\n    attributeName: \"transform\",\n    attributeType: \"XML\",\n    type: \"rotate\",\n    dur: \"1s\",\n    from: \"0 50 50\",\n    to: \"360 50 50\",\n    repeatCount: \"indefinite\"\n  }))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgPreloader);\nexport default __webpack_public_path__ + \"static/media/preloader.469e1cec.svg\";\nexport { ForwardRef as ReactComponent };","import styles from './Preloader.module.css';\nimport {ReactComponent as PreloaderImage} from './preloader.svg';\n\n// https://codepen.io/nikhil8krishnan/pen/rVoXJa\nconst Preloader = () => { // TODO надо бы выключить скролл при лоадере\n  return (\n    <div className={styles.overlay}>\n      <PreloaderImage className={styles.preloader} />\n    </div>\n  );\n};\n\nexport default Preloader;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"field\":\"CustomFields_field__2n1Rd\",\"error\":\"CustomFields_error__2mqrG\",\"errorMessage\":\"CustomFields_errorMessage__P464I\",\"commonError\":\"CustomFields_commonError__1eqtW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1VCKf\",\"loginBlock\":\"Header_loginBlock__6mma5\",\"loginLink\":\"Header_loginLink__1yPle\"};","export const required = (value) => {\n  if (!value) {\n    return 'Поле обязательно';\n  }\n  return undefined;\n};\n\nexport const maxLength = (max) => (value) => {\n  if (value && value.length > max) {\n    return `Должно быть меньше ${max} символов`;\n  }\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Preloader_overlay__10YTb\",\"preloader\":\"Preloader_preloader__2dvkO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postsBlock\":\"MyPosts_postsBlock__2ifKf\",\"posts\":\"MyPosts_posts__3tZ1c\"};","import styles from './CustomFields.module.css';\n\nexport const CustomField = (FormField) => ({input, meta: {error, touched, submitting, submitFailed, visited}, ...props}) => {\n  const hasError = touched && error; // TODO проработать случаи появления ошибки\n  return (\n    <div>\n      <p className={styles.field}>\n        <FormField className={hasError ? styles.error : ''} {...input} {...props} />\n        {hasError &&\n          <span className={styles.errorMessage}>&nbsp;{error}</span>}\n      </p>\n    </div>\n  );\n};\n\nexport const Input = CustomField('input');\n\nexport const TextArea = CustomField('textarea');\n\n\nexport const CustomFields = (props) => {\n  console.log(props)\n  return (\n    <div>\n      <input  />\n    </div>\n  );\n};\n\n// const renderField = ({\n//                        input,\n//                        label,\n//                        type,\n//                        meta: { touched, error, warning }\n//                      }) => (\n//   <div>\n//     <label>{label}</label>\n//     <div>\n//       <input {...input} placeholder={label} type={type} />\n//       {touched &&\n//       ((error && <span>{error}</span>) ||\n//         (warning && <span>{warning}</span>))}\n//     </div>\n//   </div>\n// )\n"],"sourceRoot":""}